(function webpackUniversalModuleDefinition(root,factory){if("object"===typeof exports&&"object"===typeof module)module.exports=factory();else if("function"===typeof define&&define.amd)define("cornerstone-core",[],factory);else if("object"===typeof exports)exports["cornerstone-core"]=factory();else root.cornerstone=factory()})(window,function(){var _Mathmax=Math.max,_Mathmin=Math.min,_NumberMAX_VALUE=Number.MAX_VALUE,_Mathsqrt=Math.sqrt,_Mathcos=Math.cos,_MathPI=Math.PI,_Mathround=Math.round,_Mathfloor=Math.floor;return function(modules){function hotDisposeChunk(chunkId){delete installedChunks[chunkId]}var parentHotUpdateCallback=window.webpackHotUpdate;window.webpackHotUpdate=function webpackHotUpdateCallback(chunkId,moreModules){hotAddUpdateChunk(chunkId,moreModules);if(parentHotUpdateCallback)parentHotUpdateCallback(chunkId,moreModules)};function hotDownloadUpdateChunk(chunkId){var head=document.getElementsByTagName("head")[0],script=document.createElement("script");script.charset="utf-8";script.src=__webpack_require__.p+""+chunkId+"."+hotCurrentHash+".hot-update.js";;head.appendChild(script)}function hotDownloadManifest(requestTimeout){requestTimeout=requestTimeout||1e4;return new Promise(function(resolve,reject){if("undefined"===typeof XMLHttpRequest){return reject(new Error("No browser support"))}try{var request=new XMLHttpRequest,requestPath=__webpack_require__.p+""+hotCurrentHash+".hot-update.json";request.open("GET",requestPath,!0);request.timeout=requestTimeout;request.send(null)}catch(err){return reject(err)}request.onreadystatechange=function(){if(4!==request.readyState)return;if(0===request.status){reject(new Error("Manifest request to "+requestPath+" timed out."))}else if(404===request.status){resolve()}else if(200!==request.status&&304!==request.status){reject(new Error("Manifest request to "+requestPath+" failed."))}else{try{var update=JSON.parse(request.responseText)}catch(e){reject(e);return}resolve(update)}}})}var hotApplyOnUpdate=!0,hotCurrentHash="72ed982d5a0046aad5fa",hotRequestTimeout=1e4,hotCurrentModuleData={},hotCurrentChildModule,hotCurrentParents=[],hotCurrentParentsTemp=[];function hotCreateRequire(moduleId){var me=installedModules[moduleId];if(!me)return __webpack_require__;var fn=function(request){if(me.hot.active){if(installedModules[request]){if(-1===installedModules[request].parents.indexOf(moduleId)){installedModules[request].parents.push(moduleId)}}else{hotCurrentParents=[moduleId];hotCurrentChildModule=request}if(-1===me.children.indexOf(request)){me.children.push(request)}}else{console.warn("[HMR] unexpected require("+request+") from disposed module "+moduleId);hotCurrentParents=[]}return __webpack_require__(request)},ObjectFactory=function ObjectFactory(name){return{configurable:!0,enumerable:!0,get:function(){return __webpack_require__[name]},set:function(value){__webpack_require__[name]=value}}};for(var name in __webpack_require__){if(Object.prototype.hasOwnProperty.call(__webpack_require__,name)&&"e"!==name&&"t"!==name){Object.defineProperty(fn,name,ObjectFactory(name))}}fn.e=function(chunkId){if("ready"===hotStatus)hotSetStatus("prepare");hotChunksLoading++;return __webpack_require__.e(chunkId).then(finishChunkLoading,function(err){finishChunkLoading();throw err});function finishChunkLoading(){hotChunksLoading--;if("prepare"===hotStatus){if(!hotWaitingFilesMap[chunkId]){hotEnsureUpdateChunk(chunkId)}if(0===hotChunksLoading&&0===hotWaitingFiles){hotUpdateDownloaded()}}}};fn.t=function(value,mode){if(1&mode)value=fn(value);return __webpack_require__.t(value,~1&mode)};return fn}function hotCreateModule(moduleId){var hot={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:hotCurrentChildModule!==moduleId,active:!0,accept:function(dep,callback){if(dep===void 0)hot._selfAccepted=!0;else if("function"===typeof dep)hot._selfAccepted=dep;else if("object"===typeof dep)for(var i=0;i<dep.length;i++)hot._acceptedDependencies[dep[i]]=callback||function(){};else hot._acceptedDependencies[dep]=callback||function(){}},decline:function(dep){if(dep===void 0)hot._selfDeclined=!0;else if("object"===typeof dep)for(var i=0;i<dep.length;i++)hot._declinedDependencies[dep[i]]=!0;else hot._declinedDependencies[dep]=!0},dispose:function(callback){hot._disposeHandlers.push(callback)},addDisposeHandler:function(callback){hot._disposeHandlers.push(callback)},removeDisposeHandler:function(callback){var idx=hot._disposeHandlers.indexOf(callback);if(0<=idx)hot._disposeHandlers.splice(idx,1)},check:hotCheck,apply:hotApply,status:function(l){if(!l)return hotStatus;hotStatusHandlers.push(l)},addStatusHandler:function(l){hotStatusHandlers.push(l)},removeStatusHandler:function(l){var idx=hotStatusHandlers.indexOf(l);if(0<=idx)hotStatusHandlers.splice(idx,1)},data:hotCurrentModuleData[moduleId]};hotCurrentChildModule=void 0;return hot}var hotStatusHandlers=[],hotStatus="idle";function hotSetStatus(newStatus){hotStatus=newStatus;for(var i=0;i<hotStatusHandlers.length;i++)hotStatusHandlers[i].call(null,newStatus)}var hotWaitingFiles=0,hotChunksLoading=0,hotWaitingFilesMap={},hotRequestedFilesMap={},hotAvailableFilesMap={},hotDeferred,hotUpdate,hotUpdateNewHash;function toModuleId(id){var isNumber=+id+""===id;return isNumber?+id:id}function hotCheck(apply){if("idle"!==hotStatus){throw new Error("check() is only allowed in idle status")}hotApplyOnUpdate=apply;hotSetStatus("check");return hotDownloadManifest(hotRequestTimeout).then(function(update){if(!update){hotSetStatus("idle");return null}hotRequestedFilesMap={};hotWaitingFilesMap={};hotAvailableFilesMap=update.c;hotUpdateNewHash=update.h;hotSetStatus("prepare");var promise=new Promise(function(resolve,reject){hotDeferred={resolve:resolve,reject:reject}});hotUpdate={};var chunkId="cornerstone";{hotEnsureUpdateChunk(chunkId)}if("prepare"===hotStatus&&0===hotChunksLoading&&0===hotWaitingFiles){hotUpdateDownloaded()}return promise})}function hotAddUpdateChunk(chunkId,moreModules){if(!hotAvailableFilesMap[chunkId]||!hotRequestedFilesMap[chunkId])return;hotRequestedFilesMap[chunkId]=!1;for(var moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){hotUpdate[moduleId]=moreModules[moduleId]}}if(0===--hotWaitingFiles&&0===hotChunksLoading){hotUpdateDownloaded()}}function hotEnsureUpdateChunk(chunkId){if(!hotAvailableFilesMap[chunkId]){hotWaitingFilesMap[chunkId]=!0}else{hotRequestedFilesMap[chunkId]=!0;hotWaitingFiles++;hotDownloadUpdateChunk(chunkId)}}function hotUpdateDownloaded(){hotSetStatus("ready");var deferred=hotDeferred;hotDeferred=null;if(!deferred)return;if(hotApplyOnUpdate){Promise.resolve().then(function(){return hotApply(hotApplyOnUpdate)}).then(function(result){deferred.resolve(result)},function(err){deferred.reject(err)})}else{var outdatedModules=[];for(var id in hotUpdate){if(Object.prototype.hasOwnProperty.call(hotUpdate,id)){outdatedModules.push(toModuleId(id))}}deferred.resolve(outdatedModules)}}function hotApply(options){if("ready"!==hotStatus)throw new Error("apply() is only allowed in ready status");options=options||{};var cb,i,j,module,moduleId;function getAffectedStuff(updateModuleId){var outdatedModules=[updateModuleId],outdatedDependencies={},queue=outdatedModules.slice().map(function(id){return{chain:[id],id:id}});while(0<queue.length){var queueItem=queue.pop(),moduleId=queueItem.id,chain=queueItem.chain;module=installedModules[moduleId];if(!module||module.hot._selfAccepted)continue;if(module.hot._selfDeclined){return{type:"self-declined",chain:chain,moduleId:moduleId}}if(module.hot._main){return{type:"unaccepted",chain:chain,moduleId:moduleId}}for(var i=0;i<module.parents.length;i++){var parentId=module.parents[i],parent=installedModules[parentId];if(!parent)continue;if(parent.hot._declinedDependencies[moduleId]){return{type:"declined",chain:chain.concat([parentId]),moduleId:moduleId,parentId:parentId}}if(-1!==outdatedModules.indexOf(parentId))continue;if(parent.hot._acceptedDependencies[moduleId]){if(!outdatedDependencies[parentId])outdatedDependencies[parentId]=[];addAllToSet(outdatedDependencies[parentId],[moduleId]);continue}delete outdatedDependencies[parentId];outdatedModules.push(parentId);queue.push({chain:chain.concat([parentId]),id:parentId})}}return{type:"accepted",moduleId:updateModuleId,outdatedModules:outdatedModules,outdatedDependencies:outdatedDependencies}}function addAllToSet(a,b){for(var i=0,item;i<b.length;i++){item=b[i];if(-1===a.indexOf(item))a.push(item)}}var outdatedDependencies={},outdatedModules=[],appliedUpdate={},warnUnexpectedRequire=function warnUnexpectedRequire(){console.warn("[HMR] unexpected require("+result.moduleId+") to disposed module")};for(var id in hotUpdate){if(Object.prototype.hasOwnProperty.call(hotUpdate,id)){moduleId=toModuleId(id);var result;if(hotUpdate[id]){result=getAffectedStuff(moduleId)}else{result={type:"disposed",moduleId:id}}var abortError=!1,doApply=!1,doDispose=!1,chainInfo="";if(result.chain){chainInfo="\nUpdate propagation: "+result.chain.join(" -> ")}switch(result.type){case"self-declined":if(options.onDeclined)options.onDeclined(result);if(!options.ignoreDeclined)abortError=new Error("Aborted because of self decline: "+result.moduleId+chainInfo);break;case"declined":if(options.onDeclined)options.onDeclined(result);if(!options.ignoreDeclined)abortError=new Error("Aborted because of declined dependency: "+result.moduleId+" in "+result.parentId+chainInfo);break;case"unaccepted":if(options.onUnaccepted)options.onUnaccepted(result);if(!options.ignoreUnaccepted)abortError=new Error("Aborted because "+moduleId+" is not accepted"+chainInfo);break;case"accepted":if(options.onAccepted)options.onAccepted(result);doApply=!0;break;case"disposed":if(options.onDisposed)options.onDisposed(result);doDispose=!0;break;default:throw new Error("Unexception type "+result.type);}if(abortError){hotSetStatus("abort");return Promise.reject(abortError)}if(doApply){appliedUpdate[moduleId]=hotUpdate[moduleId];addAllToSet(outdatedModules,result.outdatedModules);for(moduleId in result.outdatedDependencies){if(Object.prototype.hasOwnProperty.call(result.outdatedDependencies,moduleId)){if(!outdatedDependencies[moduleId])outdatedDependencies[moduleId]=[];addAllToSet(outdatedDependencies[moduleId],result.outdatedDependencies[moduleId])}}}if(doDispose){addAllToSet(outdatedModules,[result.moduleId]);appliedUpdate[moduleId]=warnUnexpectedRequire}}}var outdatedSelfAcceptedModules=[];for(i=0;i<outdatedModules.length;i++){moduleId=outdatedModules[i];if(installedModules[moduleId]&&installedModules[moduleId].hot._selfAccepted)outdatedSelfAcceptedModules.push({module:moduleId,errorHandler:installedModules[moduleId].hot._selfAccepted})}hotSetStatus("dispose");Object.keys(hotAvailableFilesMap).forEach(function(chunkId){if(!1===hotAvailableFilesMap[chunkId]){hotDisposeChunk(chunkId)}});var idx,queue=outdatedModules.slice();while(0<queue.length){moduleId=queue.pop();module=installedModules[moduleId];if(!module)continue;var data={},disposeHandlers=module.hot._disposeHandlers;for(j=0;j<disposeHandlers.length;j++){cb=disposeHandlers[j];cb(data)}hotCurrentModuleData[moduleId]=data;module.hot.active=!1;delete installedModules[moduleId];delete outdatedDependencies[moduleId];for(j=0;j<module.children.length;j++){var child=installedModules[module.children[j]];if(!child)continue;idx=child.parents.indexOf(moduleId);if(0<=idx){child.parents.splice(idx,1)}}}var dependency,moduleOutdatedDependencies;for(moduleId in outdatedDependencies){if(Object.prototype.hasOwnProperty.call(outdatedDependencies,moduleId)){module=installedModules[moduleId];if(module){moduleOutdatedDependencies=outdatedDependencies[moduleId];for(j=0;j<moduleOutdatedDependencies.length;j++){dependency=moduleOutdatedDependencies[j];idx=module.children.indexOf(dependency);if(0<=idx)module.children.splice(idx,1)}}}}hotSetStatus("apply");hotCurrentHash=hotUpdateNewHash;for(moduleId in appliedUpdate){if(Object.prototype.hasOwnProperty.call(appliedUpdate,moduleId)){modules[moduleId]=appliedUpdate[moduleId]}}var error=null;for(moduleId in outdatedDependencies){if(Object.prototype.hasOwnProperty.call(outdatedDependencies,moduleId)){module=installedModules[moduleId];if(module){moduleOutdatedDependencies=outdatedDependencies[moduleId];var callbacks=[];for(i=0;i<moduleOutdatedDependencies.length;i++){dependency=moduleOutdatedDependencies[i];cb=module.hot._acceptedDependencies[dependency];if(cb){if(-1!==callbacks.indexOf(cb))continue;callbacks.push(cb)}}for(i=0;i<callbacks.length;i++){cb=callbacks[i];try{cb(moduleOutdatedDependencies)}catch(err){if(options.onErrored){options.onErrored({type:"accept-errored",moduleId:moduleId,dependencyId:moduleOutdatedDependencies[i],error:err})}if(!options.ignoreErrored){if(!error)error=err}}}}}}for(i=0;i<outdatedSelfAcceptedModules.length;i++){var item=outdatedSelfAcceptedModules[i];moduleId=item.module;hotCurrentParents=[moduleId];try{__webpack_require__(moduleId)}catch(err){if("function"===typeof item.errorHandler){try{item.errorHandler(err)}catch(err2){if(options.onErrored){options.onErrored({type:"self-accept-error-handler-errored",moduleId:moduleId,error:err2,originalError:err})}if(!options.ignoreErrored){if(!error)error=err2}if(!error)error=err}}else{if(options.onErrored){options.onErrored({type:"self-accept-errored",moduleId:moduleId,error:err})}if(!options.ignoreErrored){if(!error)error=err}}}}if(error){hotSetStatus("fail");return Promise.reject(error)}hotSetStatus("idle");return new Promise(function(resolve){resolve(outdatedModules)})}var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{},hot:hotCreateModule(moduleId),parents:(hotCurrentParentsTemp=hotCurrentParents,hotCurrentParents=[],hotCurrentParentsTemp),children:[]};modules[moduleId].call(module.exports,module,module.exports,hotCreateRequire(moduleId));module.l=!0;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:!0,get:getter})}};__webpack_require__.r=function(exports){if("undefined"!==typeof Symbol&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:!0})};__webpack_require__.t=function(value,mode){if(1&mode)value=__webpack_require__(value);if(8&mode)return value;if(4&mode&&"object"===typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:!0,value:value});if(2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";__webpack_require__.h=function(){return hotCurrentHash};return hotCreateRequire("./index.js")(__webpack_require__.s="./index.js")}({"./canvasToPixel.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js"),_internal_getTransform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/getTransform.js");__webpack_exports__["default"]=function(element,pt){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElement)(element),transform=Object(_internal_getTransform_js__WEBPACK_IMPORTED_MODULE_1__["default"])(enabledElement);transform.invert();return transform.transformPoint(pt.x,pt.y)}},"./colors/colormap.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"getColormapsList",function(){return getColormapsList});__webpack_require__.d(__webpack_exports__,"getColormap",function(){return getColormap});var _lookupTable_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./colors/lookupTable.js"),COLOR_TRANSPARENT=[0,0,0,0],colormapsData={hotIron:{name:"Hot Iron",numOfColors:256,colors:[[0,0,0,255],[2,0,0,255],[4,0,0,255],[6,0,0,255],[8,0,0,255],[10,0,0,255],[12,0,0,255],[14,0,0,255],[16,0,0,255],[18,0,0,255],[20,0,0,255],[22,0,0,255],[24,0,0,255],[26,0,0,255],[28,0,0,255],[30,0,0,255],[32,0,0,255],[34,0,0,255],[36,0,0,255],[38,0,0,255],[40,0,0,255],[42,0,0,255],[44,0,0,255],[46,0,0,255],[48,0,0,255],[50,0,0,255],[52,0,0,255],[54,0,0,255],[56,0,0,255],[58,0,0,255],[60,0,0,255],[62,0,0,255],[64,0,0,255],[66,0,0,255],[68,0,0,255],[70,0,0,255],[72,0,0,255],[74,0,0,255],[76,0,0,255],[78,0,0,255],[80,0,0,255],[82,0,0,255],[84,0,0,255],[86,0,0,255],[88,0,0,255],[90,0,0,255],[92,0,0,255],[94,0,0,255],[96,0,0,255],[98,0,0,255],[100,0,0,255],[102,0,0,255],[104,0,0,255],[106,0,0,255],[108,0,0,255],[110,0,0,255],[112,0,0,255],[114,0,0,255],[116,0,0,255],[118,0,0,255],[120,0,0,255],[122,0,0,255],[124,0,0,255],[126,0,0,255],[128,0,0,255],[130,0,0,255],[132,0,0,255],[134,0,0,255],[136,0,0,255],[138,0,0,255],[140,0,0,255],[142,0,0,255],[144,0,0,255],[146,0,0,255],[148,0,0,255],[150,0,0,255],[152,0,0,255],[154,0,0,255],[156,0,0,255],[158,0,0,255],[160,0,0,255],[162,0,0,255],[164,0,0,255],[166,0,0,255],[168,0,0,255],[170,0,0,255],[172,0,0,255],[174,0,0,255],[176,0,0,255],[178,0,0,255],[180,0,0,255],[182,0,0,255],[184,0,0,255],[186,0,0,255],[188,0,0,255],[190,0,0,255],[192,0,0,255],[194,0,0,255],[196,0,0,255],[198,0,0,255],[200,0,0,255],[202,0,0,255],[204,0,0,255],[206,0,0,255],[208,0,0,255],[210,0,0,255],[212,0,0,255],[214,0,0,255],[216,0,0,255],[218,0,0,255],[220,0,0,255],[222,0,0,255],[224,0,0,255],[226,0,0,255],[228,0,0,255],[230,0,0,255],[232,0,0,255],[234,0,0,255],[236,0,0,255],[238,0,0,255],[240,0,0,255],[242,0,0,255],[244,0,0,255],[246,0,0,255],[248,0,0,255],[250,0,0,255],[252,0,0,255],[254,0,0,255],[255,0,0,255],[255,2,0,255],[255,4,0,255],[255,6,0,255],[255,8,0,255],[255,10,0,255],[255,12,0,255],[255,14,0,255],[255,16,0,255],[255,18,0,255],[255,20,0,255],[255,22,0,255],[255,24,0,255],[255,26,0,255],[255,28,0,255],[255,30,0,255],[255,32,0,255],[255,34,0,255],[255,36,0,255],[255,38,0,255],[255,40,0,255],[255,42,0,255],[255,44,0,255],[255,46,0,255],[255,48,0,255],[255,50,0,255],[255,52,0,255],[255,54,0,255],[255,56,0,255],[255,58,0,255],[255,60,0,255],[255,62,0,255],[255,64,0,255],[255,66,0,255],[255,68,0,255],[255,70,0,255],[255,72,0,255],[255,74,0,255],[255,76,0,255],[255,78,0,255],[255,80,0,255],[255,82,0,255],[255,84,0,255],[255,86,0,255],[255,88,0,255],[255,90,0,255],[255,92,0,255],[255,94,0,255],[255,96,0,255],[255,98,0,255],[255,100,0,255],[255,102,0,255],[255,104,0,255],[255,106,0,255],[255,108,0,255],[255,110,0,255],[255,112,0,255],[255,114,0,255],[255,116,0,255],[255,118,0,255],[255,120,0,255],[255,122,0,255],[255,124,0,255],[255,126,0,255],[255,128,4,255],[255,130,8,255],[255,132,12,255],[255,134,16,255],[255,136,20,255],[255,138,24,255],[255,140,28,255],[255,142,32,255],[255,144,36,255],[255,146,40,255],[255,148,44,255],[255,150,48,255],[255,152,52,255],[255,154,56,255],[255,156,60,255],[255,158,64,255],[255,160,68,255],[255,162,72,255],[255,164,76,255],[255,166,80,255],[255,168,84,255],[255,170,88,255],[255,172,92,255],[255,174,96,255],[255,176,100,255],[255,178,104,255],[255,180,108,255],[255,182,112,255],[255,184,116,255],[255,186,120,255],[255,188,124,255],[255,190,128,255],[255,192,132,255],[255,194,136,255],[255,196,140,255],[255,198,144,255],[255,200,148,255],[255,202,152,255],[255,204,156,255],[255,206,160,255],[255,208,164,255],[255,210,168,255],[255,212,172,255],[255,214,176,255],[255,216,180,255],[255,218,184,255],[255,220,188,255],[255,222,192,255],[255,224,196,255],[255,226,200,255],[255,228,204,255],[255,230,208,255],[255,232,212,255],[255,234,216,255],[255,236,220,255],[255,238,224,255],[255,240,228,255],[255,242,232,255],[255,244,236,255],[255,246,240,255],[255,248,244,255],[255,250,248,255],[255,252,252,255],[255,255,255,255]]},pet:{name:"PET",numColors:256,colors:[[0,0,0,255],[0,2,1,255],[0,4,3,255],[0,6,5,255],[0,8,7,255],[0,10,9,255],[0,12,11,255],[0,14,13,255],[0,16,15,255],[0,18,17,255],[0,20,19,255],[0,22,21,255],[0,24,23,255],[0,26,25,255],[0,28,27,255],[0,30,29,255],[0,32,31,255],[0,34,33,255],[0,36,35,255],[0,38,37,255],[0,40,39,255],[0,42,41,255],[0,44,43,255],[0,46,45,255],[0,48,47,255],[0,50,49,255],[0,52,51,255],[0,54,53,255],[0,56,55,255],[0,58,57,255],[0,60,59,255],[0,62,61,255],[0,65,63,255],[0,67,65,255],[0,69,67,255],[0,71,69,255],[0,73,71,255],[0,75,73,255],[0,77,75,255],[0,79,77,255],[0,81,79,255],[0,83,81,255],[0,85,83,255],[0,87,85,255],[0,89,87,255],[0,91,89,255],[0,93,91,255],[0,95,93,255],[0,97,95,255],[0,99,97,255],[0,101,99,255],[0,103,101,255],[0,105,103,255],[0,107,105,255],[0,109,107,255],[0,111,109,255],[0,113,111,255],[0,115,113,255],[0,117,115,255],[0,119,117,255],[0,121,119,255],[0,123,121,255],[0,125,123,255],[0,128,125,255],[1,126,127,255],[3,124,129,255],[5,122,131,255],[7,120,133,255],[9,118,135,255],[11,116,137,255],[13,114,139,255],[15,112,141,255],[17,110,143,255],[19,108,145,255],[21,106,147,255],[23,104,149,255],[25,102,151,255],[27,100,153,255],[29,98,155,255],[31,96,157,255],[33,94,159,255],[35,92,161,255],[37,90,163,255],[39,88,165,255],[41,86,167,255],[43,84,169,255],[45,82,171,255],[47,80,173,255],[49,78,175,255],[51,76,177,255],[53,74,179,255],[55,72,181,255],[57,70,183,255],[59,68,185,255],[61,66,187,255],[63,64,189,255],[65,63,191,255],[67,61,193,255],[69,59,195,255],[71,57,197,255],[73,55,199,255],[75,53,201,255],[77,51,203,255],[79,49,205,255],[81,47,207,255],[83,45,209,255],[85,43,211,255],[86,41,213,255],[88,39,215,255],[90,37,217,255],[92,35,219,255],[94,33,221,255],[96,31,223,255],[98,29,225,255],[100,27,227,255],[102,25,229,255],[104,23,231,255],[106,21,233,255],[108,19,235,255],[110,17,237,255],[112,15,239,255],[114,13,241,255],[116,11,243,255],[118,9,245,255],[120,7,247,255],[122,5,249,255],[124,3,251,255],[126,1,253,255],[128,0,255,255],[130,2,252,255],[132,4,248,255],[134,6,244,255],[136,8,240,255],[138,10,236,255],[140,12,232,255],[142,14,228,255],[144,16,224,255],[146,18,220,255],[148,20,216,255],[150,22,212,255],[152,24,208,255],[154,26,204,255],[156,28,200,255],[158,30,196,255],[160,32,192,255],[162,34,188,255],[164,36,184,255],[166,38,180,255],[168,40,176,255],[170,42,172,255],[171,44,168,255],[173,46,164,255],[175,48,160,255],[177,50,156,255],[179,52,152,255],[181,54,148,255],[183,56,144,255],[185,58,140,255],[187,60,136,255],[189,62,132,255],[191,64,128,255],[193,66,124,255],[195,68,120,255],[197,70,116,255],[199,72,112,255],[201,74,108,255],[203,76,104,255],[205,78,100,255],[207,80,96,255],[209,82,92,255],[211,84,88,255],[213,86,84,255],[215,88,80,255],[217,90,76,255],[219,92,72,255],[221,94,68,255],[223,96,64,255],[225,98,60,255],[227,100,56,255],[229,102,52,255],[231,104,48,255],[233,106,44,255],[235,108,40,255],[237,110,36,255],[239,112,32,255],[241,114,28,255],[243,116,24,255],[245,118,20,255],[247,120,16,255],[249,122,12,255],[251,124,8,255],[253,126,4,255],[255,128,0,255],[255,130,4,255],[255,132,8,255],[255,134,12,255],[255,136,16,255],[255,138,20,255],[255,140,24,255],[255,142,28,255],[255,144,32,255],[255,146,36,255],[255,148,40,255],[255,150,44,255],[255,152,48,255],[255,154,52,255],[255,156,56,255],[255,158,60,255],[255,160,64,255],[255,162,68,255],[255,164,72,255],[255,166,76,255],[255,168,80,255],[255,170,85,255],[255,172,89,255],[255,174,93,255],[255,176,97,255],[255,178,101,255],[255,180,105,255],[255,182,109,255],[255,184,113,255],[255,186,117,255],[255,188,121,255],[255,190,125,255],[255,192,129,255],[255,194,133,255],[255,196,137,255],[255,198,141,255],[255,200,145,255],[255,202,149,255],[255,204,153,255],[255,206,157,255],[255,208,161,255],[255,210,165,255],[255,212,170,255],[255,214,174,255],[255,216,178,255],[255,218,182,255],[255,220,186,255],[255,222,190,255],[255,224,194,255],[255,226,198,255],[255,228,202,255],[255,230,206,255],[255,232,210,255],[255,234,214,255],[255,236,218,255],[255,238,222,255],[255,240,226,255],[255,242,230,255],[255,244,234,255],[255,246,238,255],[255,248,242,255],[255,250,246,255],[255,252,250,255],[255,255,255,255]]},hotMetalBlue:{name:"Hot Metal Blue",numColors:256,colors:[[0,0,0,255],[0,0,2,255],[0,0,4,255],[0,0,6,255],[0,0,8,255],[0,0,10,255],[0,0,12,255],[0,0,14,255],[0,0,16,255],[0,0,17,255],[0,0,19,255],[0,0,21,255],[0,0,23,255],[0,0,25,255],[0,0,27,255],[0,0,29,255],[0,0,31,255],[0,0,33,255],[0,0,35,255],[0,0,37,255],[0,0,39,255],[0,0,41,255],[0,0,43,255],[0,0,45,255],[0,0,47,255],[0,0,49,255],[0,0,51,255],[0,0,53,255],[0,0,55,255],[0,0,57,255],[0,0,59,255],[0,0,61,255],[0,0,63,255],[0,0,65,255],[0,0,67,255],[0,0,69,255],[0,0,71,255],[0,0,73,255],[0,0,75,255],[0,0,77,255],[0,0,79,255],[0,0,81,255],[0,0,83,255],[0,0,84,255],[0,0,86,255],[0,0,88,255],[0,0,90,255],[0,0,92,255],[0,0,94,255],[0,0,96,255],[0,0,98,255],[0,0,100,255],[0,0,102,255],[0,0,104,255],[0,0,106,255],[0,0,108,255],[0,0,110,255],[0,0,112,255],[0,0,114,255],[0,0,116,255],[0,0,117,255],[0,0,119,255],[0,0,121,255],[0,0,123,255],[0,0,125,255],[0,0,127,255],[0,0,129,255],[0,0,131,255],[0,0,133,255],[0,0,135,255],[0,0,137,255],[0,0,139,255],[0,0,141,255],[0,0,143,255],[0,0,145,255],[0,0,147,255],[0,0,149,255],[0,0,151,255],[0,0,153,255],[0,0,155,255],[0,0,157,255],[0,0,159,255],[0,0,161,255],[0,0,163,255],[0,0,165,255],[0,0,167,255],[3,0,169,255],[6,0,171,255],[9,0,173,255],[12,0,175,255],[15,0,177,255],[18,0,179,255],[21,0,181,255],[24,0,183,255],[26,0,184,255],[29,0,186,255],[32,0,188,255],[35,0,190,255],[38,0,192,255],[41,0,194,255],[44,0,196,255],[47,0,198,255],[50,0,200,255],[52,0,197,255],[55,0,194,255],[57,0,191,255],[59,0,188,255],[62,0,185,255],[64,0,182,255],[66,0,179,255],[69,0,176,255],[71,0,174,255],[74,0,171,255],[76,0,168,255],[78,0,165,255],[81,0,162,255],[83,0,159,255],[85,0,156,255],[88,0,153,255],[90,0,150,255],[93,2,144,255],[96,4,138,255],[99,6,132,255],[102,8,126,255],[105,9,121,255],[108,11,115,255],[111,13,109,255],[114,15,103,255],[116,17,97,255],[119,19,91,255],[122,21,85,255],[125,23,79,255],[128,24,74,255],[131,26,68,255],[134,28,62,255],[137,30,56,255],[140,32,50,255],[143,34,47,255],[146,36,44,255],[149,38,41,255],[152,40,38,255],[155,41,35,255],[158,43,32,255],[161,45,29,255],[164,47,26,255],[166,49,24,255],[169,51,21,255],[172,53,18,255],[175,55,15,255],[178,56,12,255],[181,58,9,255],[184,60,6,255],[187,62,3,255],[190,64,0,255],[194,66,0,255],[198,68,0,255],[201,70,0,255],[205,72,0,255],[209,73,0,255],[213,75,0,255],[217,77,0,255],[221,79,0,255],[224,81,0,255],[228,83,0,255],[232,85,0,255],[236,87,0,255],[240,88,0,255],[244,90,0,255],[247,92,0,255],[251,94,0,255],[255,96,0,255],[255,98,3,255],[255,100,6,255],[255,102,9,255],[255,104,12,255],[255,105,15,255],[255,107,18,255],[255,109,21,255],[255,111,24,255],[255,113,26,255],[255,115,29,255],[255,117,32,255],[255,119,35,255],[255,120,38,255],[255,122,41,255],[255,124,44,255],[255,126,47,255],[255,128,50,255],[255,130,53,255],[255,132,56,255],[255,134,59,255],[255,136,62,255],[255,137,65,255],[255,139,68,255],[255,141,71,255],[255,143,74,255],[255,145,76,255],[255,147,79,255],[255,149,82,255],[255,151,85,255],[255,152,88,255],[255,154,91,255],[255,156,94,255],[255,158,97,255],[255,160,100,255],[255,162,103,255],[255,164,106,255],[255,166,109,255],[255,168,112,255],[255,169,115,255],[255,171,118,255],[255,173,121,255],[255,175,124,255],[255,177,126,255],[255,179,129,255],[255,181,132,255],[255,183,135,255],[255,184,138,255],[255,186,141,255],[255,188,144,255],[255,190,147,255],[255,192,150,255],[255,194,153,255],[255,196,156,255],[255,198,159,255],[255,200,162,255],[255,201,165,255],[255,203,168,255],[255,205,171,255],[255,207,174,255],[255,209,176,255],[255,211,179,255],[255,213,182,255],[255,215,185,255],[255,216,188,255],[255,218,191,255],[255,220,194,255],[255,222,197,255],[255,224,200,255],[255,226,203,255],[255,228,206,255],[255,229,210,255],[255,231,213,255],[255,233,216,255],[255,235,219,255],[255,237,223,255],[255,239,226,255],[255,240,229,255],[255,242,232,255],[255,244,236,255],[255,246,239,255],[255,248,242,255],[255,250,245,255],[255,251,249,255],[255,253,252,255],[255,255,255,255]]},pet20Step:{name:"PET 20 Step",numColors:256,colors:[[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255]]},gray:{name:"Gray",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,1,1]],green:[[0,0,0],[1,1,1]],blue:[[0,0,0],[1,1,1]]}},jet:{name:"Jet",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.35,0,0],[.66,1,1],[.89,1,1],[1,.5,.5]],green:[[0,0,0],[.125,0,0],[.375,1,1],[.64,1,1],[.91,0,0],[1,0,0]],blue:[[0,.5,.5],[.11,1,1],[.34,1,1],[.65,0,0],[1,0,0]]}},hsv:{name:"HSV",numColors:256,gamma:1,segmentedData:{red:[[0,1,1],[.15873,1,1],[.174603,.96875,.96875],[.333333,.03125,.03125],[.349206,0,0],[.666667,0,0],[.68254,.03125,.03125],[.84127,.96875,.96875],[.857143,1,1],[1,1,1]],green:[[0,0,0],[.15873,.9375,.9375],[.174603,1,1],[.507937,1,1],[.666667,.0625,.0625],[.68254,0,0],[1,0,0]],blue:[[0,0,0],[.333333,0,0],[.349206,.0625,.0625],[.507937,1,1],[.84127,1,1],[.857143,.9375,.9375],[1,.09375,.09375]]}},hot:{name:"Hot",numColors:256,gamma:1,segmentedData:{red:[[0,.0416,.0416],[.365079,1,1],[1,1,1]],green:[[0,0,0],[.365079,0,0],[.746032,1,1],[1,1,1]],blue:[[0,0,0],[.746032,0,0],[1,1,1]]}},cool:{name:"Cool",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,1,1]],green:[[0,1,1],[1,0,0]],blue:[[0,1,1],[1,1,1]]}},spring:{name:"Spring",numColors:256,gamma:1,segmentedData:{red:[[0,1,1],[1,1,1]],green:[[0,0,0],[1,1,1]],blue:[[0,1,1],[1,0,0]]}},summer:{name:"Summer",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,1,1]],green:[[0,.5,.5],[1,1,1]],blue:[[0,.4,.4],[1,.4,.4]]}},autumn:{name:"Autumn",numColors:256,gamma:1,segmentedData:{red:[[0,1,1],[1,1,1]],green:[[0,0,0],[1,1,1]],blue:[[0,0,0],[1,0,0]]}},winter:{name:"Winter",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,0,0]],green:[[0,0,0],[1,1,1]],blue:[[0,1,1],[1,.5,.5]]}},bone:{name:"Bone",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.746032,.652778,.652778],[1,1,1]],green:[[0,0,0],[.365079,.319444,.319444],[.746032,.777778,.777778],[1,1,1]],blue:[[0,0,0],[.365079,.444444,.444444],[1,1,1]]}},copper:{name:"Copper",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.809524,1,1],[1,1,1]],green:[[0,0,0],[1,.7812,.7812]],blue:[[0,0,0],[1,.4975,.4975]]}},spectral:{name:"Spectral",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.05,.4667,.4667],[.1,.5333,.5333],[.15,0,0],[.2,0,0],[.25,0,0],[.3,0,0],[.35,0,0],[.4,0,0],[.45,0,0],[.5,0,0],[.55,0,0],[.6,0,0],[.65,.7333,.7333],[.7,.9333,.9333],[.75,1,1],[.8,1,1],[.85,1,1],[.9,.8667,.8667],[.95,.8,.8],[1,.8,.8]],green:[[0,0,0],[.05,0,0],[.1,0,0],[.15,0,0],[.2,0,0],[.25,.4667,.4667],[.3,.6,.6],[.35,.6667,.6667],[.4,.6667,.6667],[.45,.6,.6],[.5,.7333,.7333],[.55,.8667,.8667],[.6,1,1],[.65,1,1],[.7,.9333,.9333],[.75,.8,.8],[.8,.6,.6],[.85,0,0],[.9,0,0],[.95,0,0],[1,.8,.8]],blue:[[0,0,0],[.05,.5333,.5333],[.1,.6,.6],[.15,.6667,.6667],[.2,.8667,.8667],[.25,.8667,.8667],[.3,.8667,.8667],[.35,.6667,.6667],[.4,.5333,.5333],[.45,0,0],[.5,0,0],[.55,0,0],[.6,0,0],[.65,0,0],[.7,0,0],[.75,0,0],[.8,0,0],[.85,0,0],[.9,0,0],[.95,0,0],[1,.8,.8]]}},coolwarm:{name:"CoolWarm",numColors:256,gamma:1,segmentedData:{red:[[0,.2298057,.2298057],[.03125,.26623388,.26623388],[.0625,.30386891,.30386891],[.09375,.342804478,.342804478],[.125,.38301334,.38301334],[.15625,.424369608,.424369608],[.1875,.46666708,.46666708],[.21875,.509635204,.509635204],[.25,.552953156,.552953156],[.28125,.596262162,.596262162],[.3125,.639176211,.639176211],[.34375,.681291281,.681291281],[.375,.722193294,.722193294],[.40625,.761464949,.761464949],[.4375,.798691636,.798691636],[.46875,.833466556,.833466556],[.5,.865395197,.865395197],[.53125,.897787179,.897787179],[.5625,.924127593,.924127593],[.59375,.944468518,.944468518],[.625,.958852946,.958852946],[.65625,.96732803,.96732803],[.6875,.969954137,.969954137],[.71875,.966811177,.966811177],[.75,.958003065,.958003065],[.78125,.943660866,.943660866],[.8125,.923944917,.923944917],[.84375,.89904617,.89904617],[.875,.869186849,.869186849],[.90625,.834620542,.834620542],[.9375,.795631745,.795631745],[.96875,.752534934,.752534934],[1,.705673158,.705673158]],green:[[0,.298717966,.298717966],[.03125,.353094838,.353094838],[.0625,.406535296,.406535296],[.09375,.458757618,.458757618],[.125,.50941904,.50941904],[.15625,.558148092,.558148092],[.1875,.604562568,.604562568],[.21875,.648280772,.648280772],[.25,.688929332,.688929332],[.28125,.726149107,.726149107],[.3125,.759599947,.759599947],[.34375,.788964712,.788964712],[.375,.813952739,.813952739],[.40625,.834302879,.834302879],[.4375,.849786142,.849786142],[.46875,.860207984,.860207984],[.5,.86541021,.86541021],[.53125,.848937047,.848937047],[.5625,.827384882,.827384882],[.59375,.800927443,.800927443],[.625,.769767752,.769767752],[.65625,.734132809,.734132809],[.6875,.694266682,.694266682],[.71875,.650421156,.650421156],[.75,.602842431,.602842431],[.78125,.551750968,.551750968],[.8125,.49730856,.49730856],[.84375,.439559467,.439559467],[.875,.378313092,.378313092],[.90625,.312874446,.312874446],[.9375,.24128379,.24128379],[.96875,.157246067,.157246067],[1,.01555616,.01555616]],blue:[[0,.753683153,.753683153],[.03125,.801466763,.801466763],[.0625,.84495867,.84495867],[.09375,.883725899,.883725899],[.125,.917387822,.917387822],[.15625,.945619588,.945619588],[.1875,.968154911,.968154911],[.21875,.98478814,.98478814],[.25,.995375608,.995375608],[.28125,.999836203,.999836203],[.3125,.998151185,.998151185],[.34375,.990363227,.990363227],[.375,.976574709,.976574709],[.40625,.956945269,.956945269],[.4375,.931688648,.931688648],[.46875,.901068838,.901068838],[.5,.865395561,.865395561],[.53125,.820880546,.820880546],[.5625,.774508472,.774508472],[.59375,.726736146,.726736146],[.625,.678007945,.678007945],[.65625,.628751763,.628751763],[.6875,.579375448,.579375448],[.71875,.530263762,.530263762],[.75,.481775914,.481775914],[.78125,.434243684,.434243684],[.8125,.387970225,.387970225],[.84375,.343229596,.343229596],[.875,.300267182,.300267182],[.90625,.259301199,.259301199],[.9375,.220525627,.220525627],[.96875,.184115123,.184115123],[1,.150232812,.150232812]]}},blues:{name:"Blues",numColors:256,gamma:1,segmentedData:{red:[[0,.9686274528503418,.9686274528503418],[.125,.8705882430076599,.8705882430076599],[.25,.7764706015586853,.7764706015586853],[.375,.6196078658103943,.6196078658103943],[.5,.41960784792900085,.41960784792900085],[.625,.25882354378700256,.25882354378700256],[.75,.12941177189350128,.12941177189350128],[.875,.0313725508749485,.0313725508749485],[1,.0313725508749485,.0313725508749485]],green:[[0,.9843137264251709,.9843137264251709],[.125,.9215686321258545,.9215686321258545],[.25,.8588235378265381,.8588235378265381],[.375,.7921568751335144,.7921568751335144],[.5,.6823529601097107,.6823529601097107],[.625,.572549045085907,.572549045085907],[.75,.4431372582912445,.4431372582912445],[.875,.3176470696926117,.3176470696926117],[1,.1882352977991104,.1882352977991104]],blue:[[0,1,1],[.125,.9686274528503418,.9686274528503418],[.25,.9372549057006836,.9372549057006836],[.375,.8823529481887817,.8823529481887817],[.5,.8392156958580017,.8392156958580017],[.625,.7764706015586853,.7764706015586853],[.75,.7098039388656616,.7098039388656616],[.875,.6117647290229797,.6117647290229797],[1,.41960784792900085,.41960784792900085]]}}};function linspace(a,b,n){n=null===n?100:n;var increment=(b-a)/(n-1),vector=[];while(0<n--){vector.push(a);a+=increment}vector[vector.length-1]=b;return vector}function getRank(array,elem){var left=0,right=array.length-1;while(left<=right){var mid=left+_Mathfloor((right-left)/2),midElem=array[mid];if(midElem===elem){return mid}else if(elem<midElem){right=mid-1}else{left=mid+1}}return left}function searchSorted(inputArray,values){var i,indexes=[],len=values.length;inputArray.sort(function(a,b){return a-b});for(i=0;i<len;i++){indexes[i]=getRank(inputArray,values[i])}return indexes}function makeMappingArray(N,data,gamma){var i,x=[],y0=[],y1=[],lut=[];gamma=null===gamma?1:gamma;for(i=0;i<data.length;i++){var element=data[i];x.push((N-1)*element[0]);y0.push(element[1]);y1.push(element[1])}var xLinSpace=linspace(0,1,N);for(i=0;i<N;i++){xLinSpace[i]=(N-1)*Math.pow(xLinSpace[i],gamma)}var xLinSpaceIndexes=searchSorted(x,xLinSpace);for(i=1;i<N-1;i++){var index=xLinSpaceIndexes[i],colorPercent=(xLinSpace[i]-x[index-1])/(x[index]-x[index-1]),colorDelta=y0[index]-y1[index-1];lut[i]=colorPercent*colorDelta+y1[index-1]}lut[0]=y1[0];lut[N-1]=y0[data.length-1];return lut}function createLinearSegmentedColormap(segmentedData,N,gamma){var i,lut=[];N=null===N?256:N;gamma=null===gamma?1:gamma;var redLut=makeMappingArray(N,segmentedData.red,gamma),greenLut=makeMappingArray(N,segmentedData.green,gamma),blueLut=makeMappingArray(N,segmentedData.blue,gamma);for(i=0;i<N;i++){var red=_Mathround(255*redLut[i]),green=_Mathround(255*greenLut[i]),blue=_Mathround(255*blueLut[i]),rgba=[red,green,blue,255];lut.push(rgba)}return lut}function getColormapsList(){var colormaps=[],keys=Object.keys(colormapsData);keys.forEach(function(key){if(colormapsData.hasOwnProperty(key)){var colormap=colormapsData[key];colormaps.push({id:key,name:colormap.name})}});colormaps.sort(function(a,b){var aName=a.name.toLowerCase(),bName=b.name.toLowerCase();if(aName===bName){return 0}return aName<bName?-1:1});return colormaps}function getColormap(id,colormapData){var colormap=colormapsData[id];if(!colormap){colormap=colormapsData[id]=colormapData||{name:"",colors:[]}}if(!colormap.colors&&colormap.segmentedData){colormap.colors=createLinearSegmentedColormap(colormap.segmentedData,colormap.numColors,colormap.gamma)}return{getId:function getId(){return id},getColorSchemeName:function getColorSchemeName(){return colormap.name},setColorSchemeName:function setColorSchemeName(name){colormap.name=name},getNumberOfColors:function getNumberOfColors(){return colormap.colors.length},setNumberOfColors:function setNumberOfColors(numColors){while(colormap.colors.length<numColors){colormap.colors.push(COLOR_TRANSPARENT)}colormap.colors.length=numColors},getColor:function getColor(index){if(this.isValidIndex(index)){return colormap.colors[index]}return COLOR_TRANSPARENT},getColorRepeating:function getColorRepeating(index){var numColors=colormap.colors.length;index=numColors?index%numColors:0;return this.getColor(index)},setColor:function setColor(index,rgba){if(this.isValidIndex(index)){colormap.colors[index]=rgba}},addColor:function addColor(rgba){colormap.colors.push(rgba)},insertColor:function insertColor(index,rgba){if(this.isValidIndex(index)){colormap.colors.splice(index,1,rgba)}},removeColor:function removeColor(index){if(this.isValidIndex(index)){colormap.colors.splice(index,1)}},clearColors:function clearColors(){colormap.colors=[]},buildLookupTable:function buildLookupTable(lut){if(!lut){return}var numColors=colormap.colors.length;lut.setNumberOfTableValues(numColors);for(var i=0;i<numColors;i++){lut.setTableValue(i,colormap.colors[i])}},createLookupTable:function createLookupTable(){var lut=new _lookupTable_js__WEBPACK_IMPORTED_MODULE_0__["default"];this.buildLookupTable(lut);return lut},isValidIndex:function isValidIndex(index){return 0<=index&&index<colormap.colors.length}}}},"./colors/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _colormap_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./colors/colormap.js"),_lookupTable_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./colors/lookupTable.js");__webpack_exports__["default"]={getColormap:_colormap_js__WEBPACK_IMPORTED_MODULE_0__.getColormap,getColormapsList:_colormap_js__WEBPACK_IMPORTED_MODULE_0__.getColormapsList,LookupTable:_lookupTable_js__WEBPACK_IMPORTED_MODULE_1__["default"]}},"./colors/lookupTable.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var BELOW_RANGE_COLOR_INDEX=0,ABOVE_RANGE_COLOR_INDEX=1,NAN_COLOR_INDEX=2;function HSVToRGB(hue,sat,val){if(1<hue){throw new Error("HSVToRGB expects hue < 1")}var rgb=[];if(0===sat){rgb[0]=val;rgb[1]=val;rgb[2]=val;return rgb}var hueCase=_Mathfloor(6*hue),frac=6*hue-hueCase,lx=val*(1-sat),ly=val*(1-sat*frac),lz=val*(1-sat*(1-frac));switch(hueCase){case 0:case 6:rgb[0]=val;rgb[1]=lz;rgb[2]=lx;break;case 1:rgb[0]=ly;rgb[1]=val;rgb[2]=lx;break;case 2:rgb[0]=lx;rgb[1]=val;rgb[2]=lz;break;case 3:rgb[0]=lx;rgb[1]=ly;rgb[2]=val;break;case 4:rgb[0]=lz;rgb[1]=lx;rgb[2]=val;break;case 5:rgb[0]=val;rgb[1]=lx;rgb[2]=ly;break;}return rgb}function linearIndexLookupMain(v,p){var dIndex;if(v<p.Range[0]){dIndex=p.MaxIndex+BELOW_RANGE_COLOR_INDEX+1.5}else if(v>p.Range[1]){dIndex=p.MaxIndex+ABOVE_RANGE_COLOR_INDEX+1.5}else{dIndex=(v+p.Shift)*p.Scale}return _Mathfloor(dIndex)}var LookupTable=function(){function LookupTable(){_classCallCheck(this,LookupTable);this.NumberOfColors=256;this.Ramp="linear";this.TableRange=[0,255];this.HueRange=[0,.66667];this.SaturationRange=[1,1];this.ValueRange=[1,1];this.AlphaRange=[1,1];this.NaNColor=[128,0,0,255];this.BelowRangeColor=[0,0,0,255];this.UseBelowRangeColor=!0;this.AboveRangeColor=[255,255,255,255];this.UseAboveRangeColor=!0;this.InputRange=[0,255];this.Table=[]}_createClass(LookupTable,[{key:"setNumberOfTableValues",value:function setNumberOfTableValues(number){this.NumberOfColors=number}},{key:"setRamp",value:function setRamp(ramp){this.Ramp=ramp}},{key:"setTableRange",value:function setTableRange(start,end){this.TableRange[0]=start;this.TableRange[1]=end}},{key:"setHueRange",value:function setHueRange(start,end){this.HueRange[0]=start;this.HueRange[1]=end}},{key:"setSaturationRange",value:function setSaturationRange(start,end){this.SaturationRange[0]=start;this.SaturationRange[1]=end}},{key:"setValueRange",value:function setValueRange(start,end){this.ValueRange[0]=start;this.ValueRange[1]=end}},{key:"setRange",value:function setRange(start,end){this.InputRange[0]=start;this.InputRange[1]=end}},{key:"setAlphaRange",value:function setAlphaRange(start,end){this.AlphaRange[0]=start;this.AlphaRange[1]=end}},{key:"getColor",value:function getColor(scalar){return this.mapValue(scalar)}},{key:"build",value:function build(force){if(1<this.Table.length&&!force){return}this.Table=[];var maxIndex=this.NumberOfColors-1,hinc,sinc,vinc,ainc;if(maxIndex){hinc=(this.HueRange[1]-this.HueRange[0])/maxIndex;sinc=(this.SaturationRange[1]-this.SaturationRange[0])/maxIndex;vinc=(this.ValueRange[1]-this.ValueRange[0])/maxIndex;ainc=(this.AlphaRange[1]-this.AlphaRange[0])/maxIndex}else{hinc=sinc=vinc=ainc=0}for(var i=0;i<=maxIndex;i++){var hue=this.HueRange[0]+i*hinc,sat=this.SaturationRange[0]+i*sinc,val=this.ValueRange[0]+i*vinc,alpha=this.AlphaRange[0]+i*ainc,rgb=HSVToRGB(hue,sat,val),c_rgba=[];switch(this.Ramp){case"scurve":c_rgba[0]=_Mathfloor(127.5*(1+_Mathcos((1-rgb[0])*_MathPI)));c_rgba[1]=_Mathfloor(127.5*(1+_Mathcos((1-rgb[1])*_MathPI)));c_rgba[2]=_Mathfloor(127.5*(1+_Mathcos((1-rgb[2])*_MathPI)));c_rgba[3]=_Mathfloor(255*alpha);break;case"linear":c_rgba[0]=_Mathfloor(255*rgb[0]+.5);c_rgba[1]=_Mathfloor(255*rgb[1]+.5);c_rgba[2]=_Mathfloor(255*rgb[2]+.5);c_rgba[3]=_Mathfloor(255*alpha+.5);break;case"sqrt":c_rgba[0]=_Mathfloor(255*_Mathsqrt(rgb[0])+.5);c_rgba[1]=_Mathfloor(255*_Mathsqrt(rgb[1])+.5);c_rgba[2]=_Mathfloor(255*_Mathsqrt(rgb[2])+.5);c_rgba[3]=_Mathfloor(255*_Mathsqrt(alpha)+.5);break;default:throw new Error("Invalid Ramp value (".concat(this.Ramp,")"));}this.Table.push(c_rgba)}this.buildSpecialColors()}},{key:"buildSpecialColors",value:function buildSpecialColors(){var numberOfColors=this.NumberOfColors,belowRangeColorIndex=numberOfColors+BELOW_RANGE_COLOR_INDEX,aboveRangeColorIndex=numberOfColors+ABOVE_RANGE_COLOR_INDEX,nanColorIndex=numberOfColors+NAN_COLOR_INDEX;if(this.UseBelowRangeColor||0===numberOfColors){this.Table[belowRangeColorIndex]=this.BelowRangeColor}else{this.Table[belowRangeColorIndex]=this.Table[0]}if(this.UseAboveRangeColor||0===numberOfColors){this.Table[aboveRangeColorIndex]=this.AboveRangeColor}else{this.Table[aboveRangeColorIndex]=this.Table[numberOfColors-1]}this.Table[nanColorIndex]=this.NaNColor}},{key:"mapValue",value:function mapValue(v){var index=this.getIndex(v);if(0>index){return this.NaNColor}else if(0===index){if(this.UseBelowRangeColor&&v<this.TableRange[0]){return this.BelowRangeColor}}else if(index===this.NumberOfColors-1){if(this.UseAboveRangeColor&&v>this.TableRange[1]){return this.AboveRangeColor}}return this.Table[index]}},{key:"getIndex",value:function getIndex(v){var p={Range:[],MaxIndex:this.NumberOfColors-1,Shift:-this.TableRange[0]};if(this.TableRange[1]<=this.TableRange[0]){p.Scale=_NumberMAX_VALUE}else{p.Scale=p.MaxIndex/(this.TableRange[1]-this.TableRange[0])}p.Range[0]=this.TableRange[0];p.Range[1]=this.TableRange[1];if(isNaN(v)){return-1}var index=linearIndexLookupMain(v,p);if(index===this.NumberOfColors+BELOW_RANGE_COLOR_INDEX){index=0}else if(index===this.NumberOfColors+ABOVE_RANGE_COLOR_INDEX){index=this.NumberOfColors-1}return index}},{key:"setTableValue",value:function setTableValue(index,rgba){if(5===arguments.length){rgba=Array.prototype.slice.call(arguments,1)}if(0>index){throw new Error("Can't set the table value for negative index (".concat(index,")"))}if(index>=this.NumberOfColors){new Error("Index ".concat(index," is greater than the number of colors ").concat(this.NumberOfColors))}this.Table[index]=rgba;if(0===index||index===this.NumberOfColors-1){this.buildSpecialColors()}}}]);return LookupTable}();__webpack_exports__["default"]=LookupTable},"./disable.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js"),_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./triggerEvent.js"),_events_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./events.js");__webpack_exports__["default"]=function(element){if(void 0===element){throw new Error("disable: element must not be undefined")}for(var enabledElements=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElements)(),i=0;i<enabledElements.length;i++){if(enabledElements[i].element===element){var eventData={element:element};Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__["default"])(element,_events_js__WEBPACK_IMPORTED_MODULE_2__["default"].ELEMENT_DISABLED,eventData);Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__["default"])(_events_js__WEBPACK_IMPORTED_MODULE_2__.events,_events_js__WEBPACK_IMPORTED_MODULE_2__["default"].ELEMENT_DISABLED,eventData);enabledElements[i].element.removeChild(enabledElements[i].canvas);enabledElements[i].canvas=void 0;enabledElements.splice(i,1);break}}}},"./displayImage.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js"),_internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/getDefaultViewport.js"),_updateImage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./updateImage.js"),_internal_now_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./internal/now.js"),_layers_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./layers.js"),_triggerEvent_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./triggerEvent.js"),_events_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./events.js");__webpack_exports__["default"]=function(element,image,viewport){if(void 0===element){throw new Error("displayImage: parameter element must not be undefined")}if(void 0===image){throw new Error("displayImage: parameter image must not be undefined")}var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElement)(element),oldImage=enabledElement.image;enabledElement.image=image;if(enabledElement.layers&&enabledElement.layers.length){Object(_layers_js__WEBPACK_IMPORTED_MODULE_4__.setLayerImage)(element,image)}if(void 0===enabledElement.viewport){enabledElement.viewport=Object(_internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_1__["default"])(enabledElement.canvas,image)}if(viewport){for(var attrname in viewport){if(null!==viewport[attrname]){enabledElement.viewport[attrname]=viewport[attrname]}}}var frameRate;if(void 0!==enabledElement.lastImageTimeStamp){var timeSinceLastImage=Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_3__["default"])()-enabledElement.lastImageTimeStamp;frameRate=(1e3/timeSinceLastImage).toFixed()}enabledElement.lastImageTimeStamp=Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_3__["default"])();var newImageEventData={viewport:enabledElement.viewport,element:enabledElement.element,image:enabledElement.image,oldImage:oldImage,enabledElement:enabledElement,frameRate:frameRate};Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_5__["default"])(enabledElement.element,_events_js__WEBPACK_IMPORTED_MODULE_6__["default"].NEW_IMAGE,newImageEventData);Object(_updateImage_js__WEBPACK_IMPORTED_MODULE_2__["default"])(element)}},"./draw.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js"),_internal_drawImage_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/drawImage.js");__webpack_exports__["default"]=function(element){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElement)(element);if(void 0===enabledElement.image){throw new Error("draw: image has not been loaded yet")}Object(_internal_drawImage_js__WEBPACK_IMPORTED_MODULE_1__["default"])(enabledElement)}},"./drawInvalidated.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js"),_internal_drawImage_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/drawImage.js");__webpack_exports__["default"]=function(){for(var enabledElements=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElements)(),i=0,ee;i<enabledElements.length;i++){ee=enabledElements[i];if(!0===ee.invalid){Object(_internal_drawImage_js__WEBPACK_IMPORTED_MODULE_1__["default"])(ee,!0)}}}},"./enable.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js"),_resize_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./resize.js"),_internal_drawImageSync_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./internal/drawImageSync.js"),_internal_requestAnimationFrame_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./internal/requestAnimationFrame.js"),_internal_tryEnableWebgl_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./internal/tryEnableWebgl.js"),_triggerEvent_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./triggerEvent.js"),_generateUUID_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./generateUUID.js"),_events_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./events.js"),_internal_getCanvas_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./internal/getCanvas.js");function hasImageOrLayers(enabledElement){return void 0!==enabledElement.image||0<enabledElement.layers.length}__webpack_exports__["default"]=function(element,options){if(void 0===element){throw new Error("enable: parameter element cannot be undefined")}if(options&&options.renderer&&"webgl"===options.renderer.toLowerCase()){Object(_internal_tryEnableWebgl_js__WEBPACK_IMPORTED_MODULE_4__["default"])(options)}var canvas=Object(_internal_getCanvas_js__WEBPACK_IMPORTED_MODULE_8__["default"])(element),enabledElement={element:element,canvas:canvas,image:void 0,invalid:!1,needsRedraw:!0,options:options,layers:[],data:{},renderingTools:{},uuid:Object(_generateUUID_js__WEBPACK_IMPORTED_MODULE_6__["default"])()};Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.addEnabledElement)(enabledElement);Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_5__["default"])(_events_js__WEBPACK_IMPORTED_MODULE_7__.events,_events_js__WEBPACK_IMPORTED_MODULE_7__["default"].ELEMENT_ENABLED,enabledElement);Object(_resize_js__WEBPACK_IMPORTED_MODULE_1__["default"])(element,!0);function draw(timestamp){if(void 0===enabledElement.canvas){return}var eventDetails={enabledElement:enabledElement,timestamp:timestamp};Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_5__["default"])(enabledElement.element,_events_js__WEBPACK_IMPORTED_MODULE_7__["default"].PRE_RENDER,eventDetails);if(enabledElement.needsRedraw&&hasImageOrLayers(enabledElement)){Object(_internal_drawImageSync_js__WEBPACK_IMPORTED_MODULE_2__["default"])(enabledElement,enabledElement.invalid)}Object(_internal_requestAnimationFrame_js__WEBPACK_IMPORTED_MODULE_3__["default"])(draw)}draw()}},"./enabledElementData.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"getElementData",function(){return getElementData});__webpack_require__.d(__webpack_exports__,"removeElementData",function(){return removeElementData});var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js");function getElementData(element,dataType){var ee=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElement)(element);if(!1===ee.data.hasOwnProperty(dataType)){ee.data[dataType]={}}return ee.data[dataType]}function removeElementData(element,dataType){var ee=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElement)(element);delete ee.data[dataType]}},"./enabledElements.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"getEnabledElement",function(){return getEnabledElement});__webpack_require__.d(__webpack_exports__,"addEnabledElement",function(){return addEnabledElement});__webpack_require__.d(__webpack_exports__,"getEnabledElementsByImageId",function(){return getEnabledElementsByImageId});__webpack_require__.d(__webpack_exports__,"getEnabledElements",function(){return getEnabledElements});var enabledElements=[];function getEnabledElement(element){if(void 0===element){throw new Error("getEnabledElement: parameter element must not be undefined")}for(var i=0;i<enabledElements.length;i++){if(enabledElements[i].element===element){return enabledElements[i]}}throw new Error("element not enabled")}function addEnabledElement(enabledElement){if(void 0===enabledElement){throw new Error("getEnabledElement: enabledElement element must not be undefined")}enabledElements.push(enabledElement)}function getEnabledElementsByImageId(imageId){var ees=[];enabledElements.forEach(function(enabledElement){if(enabledElement.image&&enabledElement.image.imageId===imageId){ees.push(enabledElement)}});return ees}function getEnabledElements(){return enabledElements}},"./events.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"events",function(){return events});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var EVENTS={NEW_IMAGE:"cornerstonenewimage",INVALIDATED:"cornerstoneinvalidated",PRE_RENDER:"cornerstoneprerender",IMAGE_CACHE_MAXIMUM_SIZE_CHANGED:"cornerstoneimagecachemaximumsizechanged",IMAGE_CACHE_PROMISE_REMOVED:"cornerstoneimagecachepromiseremoved",IMAGE_CACHE_FULL:"cornerstoneimagecachefull",IMAGE_CACHE_CHANGED:"cornerstoneimagecachechanged",WEBGL_TEXTURE_REMOVED:"cornerstonewebgltextureremoved",WEBGL_TEXTURE_CACHE_FULL:"cornerstonewebgltexturecachefull",IMAGE_LOADED:"cornerstoneimageloaded",IMAGE_LOAD_FAILED:"cornerstoneimageloadfailed",ELEMENT_RESIZED:"cornerstoneelementresized",IMAGE_RENDERED:"cornerstoneimagerendered",LAYER_ADDED:"cornerstonelayeradded",LAYER_REMOVED:"cornerstonelayerremoved",ACTIVE_LAYER_CHANGED:"cornerstoneactivelayerchanged",ELEMENT_DISABLED:"cornerstoneelementdisabled",ELEMENT_ENABLED:"cornerstoneelementenabled"};__webpack_exports__["default"]=EVENTS;var EventTarget=function(){function EventTarget(){_classCallCheck(this,EventTarget);this.listeners={};this.namespaces={}}_createClass(EventTarget,[{key:"addEventNamespaceListener",value:function addEventNamespaceListener(type,callback){if(0>=type.indexOf(".")){return}this.namespaces[type]=callback;this.addEventListener(type.split(".")[0],callback)}},{key:"removeEventNamespaceListener",value:function removeEventNamespaceListener(type){if(0>=type.indexOf(".")||!this.namespaces[type]){return}this.removeEventListener(type.split(".")[0],this.namespaces[type]);delete this.namespaces[type]}},{key:"addEventListener",value:function addEventListener(type,callback){if(0<type.indexOf(".")){this.addEventNamespaceListener(type,callback);return}if(!(type in this.listeners)){this.listeners[type]=[]}this.listeners[type].push(callback)}},{key:"removeEventListener",value:function removeEventListener(type,callback){if(0<type.indexOf(".")){this.removeEventNamespaceListener(type);return}if(!(type in this.listeners)){return}for(var stack=this.listeners[type],i=0,l=stack.length;i<l;i++){if(stack[i]===callback){stack.splice(i,1);return}}}},{key:"dispatchEvent",value:function dispatchEvent(event){if(!(event.type in this.listeners)){return!0}for(var stack=this.listeners[event.type],i=0,l=stack.length;i<l;i++){stack[i].call(this,event)}return!event.defaultPrevented}}]);return EventTarget}(),events=new EventTarget},"./falseColorMapping.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"convertImageToFalseColorImage",function(){return convertImageToFalseColorImage});__webpack_require__.d(__webpack_exports__,"convertToFalseColorImage",function(){return convertToFalseColorImage});__webpack_require__.d(__webpack_exports__,"restoreImage",function(){return restoreImage});var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js"),_pixelDataToFalseColorData_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./pixelDataToFalseColorData.js"),_colors_colormap_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./colors/colormap.js");function getPixelValues(pixelData){for(var minPixelValue=_NumberMAX_VALUE,maxPixelValue=Number.MIN_VALUE,len=pixelData.length,pixel,i=0;i<len;i++){pixel=pixelData[i];minPixelValue=minPixelValue<pixel?minPixelValue:pixel;maxPixelValue=maxPixelValue>pixel?maxPixelValue:pixel}return{minPixelValue:minPixelValue,maxPixelValue:maxPixelValue}}function getRestoreImageMethod(image){if(image.restore){return image.restore}var color=image.color,rgba=image.rgba,cachedLut=image.cachedLut,slope=image.slope,windowWidth=image.windowWidth,windowCenter=image.windowCenter,minPixelValue=image.minPixelValue,maxPixelValue=image.maxPixelValue;return function(){image.color=color;image.rgba=rgba;image.cachedLut=cachedLut;image.slope=slope;image.windowWidth=windowWidth;image.windowCenter=windowCenter;image.minPixelValue=minPixelValue;image.maxPixelValue=maxPixelValue;if(image.origPixelData){var pixelData=image.origPixelData;image.getPixelData=function(){return pixelData}}image.origPixelData=void 0;image.colormapId=void 0;image.falseColor=void 0}}function ensuresColormap(colormap){if(colormap&&"string"===typeof colormap){colormap=Object(_colors_colormap_js__WEBPACK_IMPORTED_MODULE_2__.getColormap)(colormap)}return colormap}function restoreImage(image){if(image.restore&&"function"===typeof image.restore){image.restore();return!0}return!1}function convertImageToFalseColorImage(image,colormap){if(image.color&&!image.falseColor){throw new Error("Color transforms are not implemented yet")}colormap=ensuresColormap(colormap);var colormapId=colormap.getId();if(image.colormapId===colormapId){return!1}restoreImage(image);if(colormapId){var minPixelValue=image.minPixelValue||0,maxPixelValue=image.maxPixelValue||255;image.restore=getRestoreImageMethod(image);var lookupTable=colormap.createLookupTable();lookupTable.setTableRange(minPixelValue,maxPixelValue);Object(_pixelDataToFalseColorData_js__WEBPACK_IMPORTED_MODULE_1__["default"])(image,lookupTable);var pixelValues=getPixelValues(image.getPixelData());image.minPixelValue=pixelValues.minPixelValue;image.maxPixelValue=pixelValues.maxPixelValue;image.windowWidth=255;image.windowCenter=128;image.colormapId=colormapId}return!0}function convertToFalseColorImage(element,colormap){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElement)(element);return convertImageToFalseColorImage(enabledElement.image,colormap)}},"./fitToWindow.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js"),_updateImage_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./updateImage.js"),_internal_getImageFitScale_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./internal/getImageFitScale.js");__webpack_exports__["default"]=function(element){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElement)(element),image=enabledElement.image;enabledElement.viewport.scale=Object(_internal_getImageFitScale_js__WEBPACK_IMPORTED_MODULE_2__["default"])(enabledElement.canvas,image,enabledElement.viewport.rotation).scaleFactor;enabledElement.viewport.translation.x=0;enabledElement.viewport.translation.y=0;Object(_updateImage_js__WEBPACK_IMPORTED_MODULE_1__["default"])(element)}},"./generateUUID.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]=function(){var d=new Date().getTime();if("undefined"!==typeof performance&&"function"===typeof performance.now){d+=performance.now()}return"x.x.x.x.x.x.xxxx.xxx.x.x.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=0|(d+16*Math.random())%16;d=_Mathfloor(d/16);return("x"===c?r:8|3&r).toString(16)})}},"./getDefaultViewportForImage.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js"),_internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/getDefaultViewport.js");__webpack_exports__["default"]=function(element,image){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElement)(element);return Object(_internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_1__["default"])(enabledElement.canvas,image)}},"./getImage.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js");__webpack_exports__["default"]=function(element){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElement)(element);return enabledElement.image}},"./getPixels.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js"),_getStoredPixels_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./getStoredPixels.js"),_internal_getModalityLUT_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./internal/getModalityLUT.js");__webpack_exports__["default"]=function(element,x,y,width,height){var storedPixels=Object(_getStoredPixels_js__WEBPACK_IMPORTED_MODULE_1__["default"])(element,x,y,width,height),ee=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElement)(element),mlutfn=Object(_internal_getModalityLUT_js__WEBPACK_IMPORTED_MODULE_2__["default"])(ee.image.slope,ee.image.intercept,ee.viewport.modalityLUT);return storedPixels.map(mlutfn)}},"./getStoredPixels.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js");__webpack_exports__["default"]=function(element,x,y,width,height){if(void 0===element){throw new Error("getStoredPixels: parameter element must not be undefined")}x=_Mathround(x);y=_Mathround(y);for(var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElement)(element),storedPixels=[],index=0,pixelData=enabledElement.image.getPixelData(),row=0;row<height;row++){for(var column=0,spIndex;column<width;column++){spIndex=(row+y)*enabledElement.image.columns+(column+x);storedPixels[index++]=pixelData[spIndex]}}return storedPixels}},"./getViewport.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js");__webpack_exports__["default"]=function(element){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElement)(element),viewport=enabledElement.viewport;if(void 0===viewport){return}return Object.assign({},viewport)}},"./imageCache.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"cachedImages",function(){return cachedImages});__webpack_require__.d(__webpack_exports__,"setMaximumSizeBytes",function(){return setMaximumSizeBytes});__webpack_require__.d(__webpack_exports__,"putImageLoadObject",function(){return putImageLoadObject});__webpack_require__.d(__webpack_exports__,"getImageLoadObject",function(){return getImageLoadObject});__webpack_require__.d(__webpack_exports__,"removeImageLoadObject",function(){return removeImageLoadObject});__webpack_require__.d(__webpack_exports__,"getCacheInfo",function(){return getCacheInfo});__webpack_require__.d(__webpack_exports__,"purgeCache",function(){return purgeCache});__webpack_require__.d(__webpack_exports__,"changeImageIdCacheSize",function(){return changeImageIdCacheSize});var _events_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./events.js"),_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./triggerEvent.js"),maximumSizeInBytes=1024*(1024*1024),cacheSizeInBytes=0,imageCacheDict={},cachedImages=[];function setMaximumSizeBytes(numBytes){if(void 0===numBytes){throw new Error("setMaximumSizeBytes: parameter numBytes must not be undefined")}if(void 0===numBytes.toFixed){throw new Error("setMaximumSizeBytes: parameter numBytes must be a number")}maximumSizeInBytes=numBytes;Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__["default"])(_events_js__WEBPACK_IMPORTED_MODULE_0__.events,_events_js__WEBPACK_IMPORTED_MODULE_0__["default"].IMAGE_CACHE_MAXIMUM_SIZE_CHANGED);purgeCacheIfNecessary()}function purgeCacheIfNecessary(){if(cacheSizeInBytes<=maximumSizeInBytes){return}function compare(a,b){if(a.timeStamp>b.timeStamp){return-1}if(a.timeStamp<b.timeStamp){return 1}return 0}cachedImages.sort(compare);while(cacheSizeInBytes>maximumSizeInBytes){var lastCachedImage=cachedImages[cachedImages.length-1],imageId=lastCachedImage.imageId;removeImageLoadObject(imageId);Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__["default"])(_events_js__WEBPACK_IMPORTED_MODULE_0__.events,_events_js__WEBPACK_IMPORTED_MODULE_0__["default"].IMAGE_CACHE_PROMISE_REMOVED,{imageId:imageId})}var cacheInfo=getCacheInfo();Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__["default"])(_events_js__WEBPACK_IMPORTED_MODULE_0__.events,_events_js__WEBPACK_IMPORTED_MODULE_0__["default"].IMAGE_CACHE_FULL,cacheInfo)}function putImageLoadObject(imageId,imageLoadObject){if(void 0===imageId){throw new Error("putImageLoadObject: imageId must not be undefined")}if(void 0===imageLoadObject.promise){throw new Error("putImageLoadObject: imageLoadObject.promise must not be undefined")}if(!0===imageCacheDict.hasOwnProperty(imageId)){throw new Error("putImageLoadObject: imageId already in cache")}if(imageLoadObject.cancelFn&&"function"!==typeof imageLoadObject.cancelFn){throw new Error("putImageLoadObject: imageLoadObject.cancelFn must be a function")}var cachedImage={loaded:!1,imageId:imageId,sharedCacheKey:void 0,imageLoadObject:imageLoadObject,timeStamp:Date.now(),sizeInBytes:0};imageCacheDict[imageId]=cachedImage;cachedImages.push(cachedImage);imageLoadObject.promise.then(function(image){if(-1===cachedImages.indexOf(cachedImage)){return}cachedImage.loaded=!0;cachedImage.image=image;if(void 0===image.sizeInBytes){throw new Error("putImageLoadObject: image.sizeInBytes must not be undefined")}if(void 0===image.sizeInBytes.toFixed){throw new Error("putImageLoadObject: image.sizeInBytes is not a number")}cachedImage.sizeInBytes=image.sizeInBytes;cacheSizeInBytes+=cachedImage.sizeInBytes;var eventDetails={action:"addImage",image:cachedImage};Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__["default"])(_events_js__WEBPACK_IMPORTED_MODULE_0__.events,_events_js__WEBPACK_IMPORTED_MODULE_0__["default"].IMAGE_CACHE_CHANGED,eventDetails);cachedImage.sharedCacheKey=image.sharedCacheKey;purgeCacheIfNecessary()},function(){var cachedImage=imageCacheDict[imageId];cachedImages.splice(cachedImages.indexOf(cachedImage),1);delete imageCacheDict[imageId]})}function getImageLoadObject(imageId){if(void 0===imageId){throw new Error("getImageLoadObject: imageId must not be undefined")}var cachedImage=imageCacheDict[imageId];if(void 0===cachedImage){return}cachedImage.timeStamp=Date.now();return cachedImage.imageLoadObject}function removeImageLoadObject(imageId){if(void 0===imageId){throw new Error("removeImageLoadObject: imageId must not be undefined")}var cachedImage=imageCacheDict[imageId];if(void 0===cachedImage){throw new Error("removeImageLoadObject: imageId was not present in imageCache")}cachedImages.splice(cachedImages.indexOf(cachedImage),1);cacheSizeInBytes-=cachedImage.sizeInBytes;var eventDetails={action:"deleteImage",image:cachedImage};Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__["default"])(_events_js__WEBPACK_IMPORTED_MODULE_0__.events,_events_js__WEBPACK_IMPORTED_MODULE_0__["default"].IMAGE_CACHE_CHANGED,eventDetails);decache(cachedImage.imageLoadObject);delete imageCacheDict[imageId]}function getCacheInfo(){return{maximumSizeInBytes:maximumSizeInBytes,cacheSizeInBytes:cacheSizeInBytes,numberOfImagesCached:cachedImages.length}}function decache(imageLoadObject){imageLoadObject.promise.then(function(){if(imageLoadObject.decache){imageLoadObject.decache()}},function(){if(imageLoadObject.decache){imageLoadObject.decache()}})}function purgeCache(){while(0<cachedImages.length){var removedCachedImage=cachedImages[0];removeImageLoadObject(removedCachedImage.imageId)}}function changeImageIdCacheSize(imageId,newCacheSize){var cacheEntry=imageCacheDict[imageId];if(cacheEntry){cacheEntry.imageLoadObject.promise.then(function(image){var cacheSizeDifference=newCacheSize-image.sizeInBytes;image.sizeInBytes=newCacheSize;cacheEntry.sizeInBytes=newCacheSize;cacheSizeInBytes+=cacheSizeDifference;var eventDetails={action:"changeImageSize",image:image};Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__["default"])(_events_js__WEBPACK_IMPORTED_MODULE_0__.events,_events_js__WEBPACK_IMPORTED_MODULE_0__["default"].IMAGE_CACHE_CHANGED,eventDetails)})}}__webpack_exports__["default"]={imageCache:imageCacheDict,cachedImages:cachedImages,setMaximumSizeBytes:setMaximumSizeBytes,putImageLoadObject:putImageLoadObject,getImageLoadObject:getImageLoadObject,removeImageLoadObject:removeImageLoadObject,getCacheInfo:getCacheInfo,purgeCache:purgeCache,changeImageIdCacheSize:changeImageIdCacheSize}},"./imageLoader.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"loadImage",function(){return loadImage});__webpack_require__.d(__webpack_exports__,"loadAndCacheImage",function(){return loadAndCacheImage});__webpack_require__.d(__webpack_exports__,"registerImageLoader",function(){return registerImageLoader});__webpack_require__.d(__webpack_exports__,"registerUnknownImageLoader",function(){return registerUnknownImageLoader});var _imageCache_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./imageCache.js"),_events_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./events.js"),_triggerEvent_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./triggerEvent.js"),imageLoaders={},unknownImageLoader;function loadImageFromImageLoader(imageId,options){var colonIndex=imageId.indexOf(":"),scheme=imageId.substring(0,colonIndex),loader=imageLoaders[scheme];if(void 0===loader||null===loader){if(void 0!==unknownImageLoader){return unknownImageLoader(imageId)}throw new Error("loadImageFromImageLoader: no image loader for imageId")}var imageLoadObject=loader(imageId,options);imageLoadObject.promise.then(function(image){Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_2__["default"])(_events_js__WEBPACK_IMPORTED_MODULE_1__.events,_events_js__WEBPACK_IMPORTED_MODULE_1__["default"].IMAGE_LOADED,{image:image})},function(error){var errorObject={imageId:imageId,error:error};Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_2__["default"])(_events_js__WEBPACK_IMPORTED_MODULE_1__.events,_events_js__WEBPACK_IMPORTED_MODULE_1__["default"].IMAGE_LOAD_FAILED,errorObject)});return imageLoadObject}function loadImage(imageId,options){if(void 0===imageId){throw new Error("loadImage: parameter imageId must not be undefined")}var imageLoadObject=Object(_imageCache_js__WEBPACK_IMPORTED_MODULE_0__.getImageLoadObject)(imageId);if(void 0!==imageLoadObject){return imageLoadObject.promise}return loadImageFromImageLoader(imageId,options).promise}function loadAndCacheImage(imageId,options){if(void 0===imageId){throw new Error("loadAndCacheImage: parameter imageId must not be undefined")}var imageLoadObject=Object(_imageCache_js__WEBPACK_IMPORTED_MODULE_0__.getImageLoadObject)(imageId);if(void 0!==imageLoadObject){return imageLoadObject.promise}imageLoadObject=loadImageFromImageLoader(imageId,options);Object(_imageCache_js__WEBPACK_IMPORTED_MODULE_0__.putImageLoadObject)(imageId,imageLoadObject);return imageLoadObject.promise}function registerImageLoader(scheme,imageLoader){imageLoaders[scheme]=imageLoader}function registerUnknownImageLoader(imageLoader){var oldImageLoader=unknownImageLoader;unknownImageLoader=imageLoader;return oldImageLoader}},"./index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _internal_drawImage_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./internal/drawImage.js");__webpack_require__.d(__webpack_exports__,"drawImage",function(){return _internal_drawImage_js__WEBPACK_IMPORTED_MODULE_0__["default"]});var _internal_generateLut_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/generateLut.js");__webpack_require__.d(__webpack_exports__,"generateLut",function(){return _internal_generateLut_js__WEBPACK_IMPORTED_MODULE_1__["default"]});var _internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./internal/getDefaultViewport.js");__webpack_require__.d(__webpack_exports__,"getDefaultViewport",function(){return _internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_2__["default"]});var _internal_requestAnimationFrame_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./internal/requestAnimationFrame.js");__webpack_require__.d(__webpack_exports__,"requestAnimationFrame",function(){return _internal_requestAnimationFrame_js__WEBPACK_IMPORTED_MODULE_3__["default"]});var _internal_storedPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./internal/storedPixelDataToCanvasImageData.js");__webpack_require__.d(__webpack_exports__,"storedPixelDataToCanvasImageData",function(){return _internal_storedPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_4__["default"]});var _internal_storedColorPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./internal/storedColorPixelDataToCanvasImageData.js");__webpack_require__.d(__webpack_exports__,"storedColorPixelDataToCanvasImageData",function(){return _internal_storedColorPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_5__["default"]});var _internal_storedPixelDataToCanvasImageDataColorLUT_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./internal/storedPixelDataToCanvasImageDataColorLUT.js");__webpack_require__.d(__webpack_exports__,"storedPixelDataToCanvasImageDataColorLUT",function(){return _internal_storedPixelDataToCanvasImageDataColorLUT_js__WEBPACK_IMPORTED_MODULE_6__["default"]});var _internal_storedPixelDataToCanvasImageDataPseudocolorLUT_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js");__webpack_require__.d(__webpack_exports__,"storedPixelDataToCanvasImageDataPseudocolorLUT",function(){return _internal_storedPixelDataToCanvasImageDataPseudocolorLUT_js__WEBPACK_IMPORTED_MODULE_7__["default"]});var _internal_index_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./internal/index.js");__webpack_require__.d(__webpack_exports__,"internal",function(){return _internal_index_js__WEBPACK_IMPORTED_MODULE_8__["default"]});var _rendering_renderLabelMapImage_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./rendering/renderLabelMapImage.js");__webpack_require__.d(__webpack_exports__,"renderLabelMapImage",function(){return _rendering_renderLabelMapImage_js__WEBPACK_IMPORTED_MODULE_9__.renderLabelMapImage});var _rendering_renderPseudoColorImage_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./rendering/renderPseudoColorImage.js");__webpack_require__.d(__webpack_exports__,"renderPseudoColorImage",function(){return _rendering_renderPseudoColorImage_js__WEBPACK_IMPORTED_MODULE_10__.renderPseudoColorImage});var _rendering_renderColorImage_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./rendering/renderColorImage.js");__webpack_require__.d(__webpack_exports__,"renderColorImage",function(){return _rendering_renderColorImage_js__WEBPACK_IMPORTED_MODULE_11__.renderColorImage});var _rendering_renderGrayscaleImage_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./rendering/renderGrayscaleImage.js");__webpack_require__.d(__webpack_exports__,"renderGrayscaleImage",function(){return _rendering_renderGrayscaleImage_js__WEBPACK_IMPORTED_MODULE_12__.renderGrayscaleImage});var _rendering_renderWebImage_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./rendering/renderWebImage.js");__webpack_require__.d(__webpack_exports__,"renderWebImage",function(){return _rendering_renderWebImage_js__WEBPACK_IMPORTED_MODULE_13__.renderWebImage});var _rendering_renderToCanvas_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./rendering/renderToCanvas.js");__webpack_require__.d(__webpack_exports__,"renderToCanvas",function(){return _rendering_renderToCanvas_js__WEBPACK_IMPORTED_MODULE_14__["default"]});var _canvasToPixel_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./canvasToPixel.js");__webpack_require__.d(__webpack_exports__,"canvasToPixel",function(){return _canvasToPixel_js__WEBPACK_IMPORTED_MODULE_15__["default"]});var _disable_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./disable.js");__webpack_require__.d(__webpack_exports__,"disable",function(){return _disable_js__WEBPACK_IMPORTED_MODULE_16__["default"]});var _displayImage_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./displayImage.js");__webpack_require__.d(__webpack_exports__,"displayImage",function(){return _displayImage_js__WEBPACK_IMPORTED_MODULE_17__["default"]});var _draw_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./draw.js");__webpack_require__.d(__webpack_exports__,"draw",function(){return _draw_js__WEBPACK_IMPORTED_MODULE_18__["default"]});var _drawInvalidated_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./drawInvalidated.js");__webpack_require__.d(__webpack_exports__,"drawInvalidated",function(){return _drawInvalidated_js__WEBPACK_IMPORTED_MODULE_19__["default"]});var _enable_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./enable.js");__webpack_require__.d(__webpack_exports__,"enable",function(){return _enable_js__WEBPACK_IMPORTED_MODULE_20__["default"]});var _enabledElementData_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./enabledElementData.js");__webpack_require__.d(__webpack_exports__,"getElementData",function(){return _enabledElementData_js__WEBPACK_IMPORTED_MODULE_21__.getElementData});__webpack_require__.d(__webpack_exports__,"removeElementData",function(){return _enabledElementData_js__WEBPACK_IMPORTED_MODULE_21__.removeElementData});var _enabledElements_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./enabledElements.js");__webpack_require__.d(__webpack_exports__,"getEnabledElement",function(){return _enabledElements_js__WEBPACK_IMPORTED_MODULE_22__.getEnabledElement});__webpack_require__.d(__webpack_exports__,"addEnabledElement",function(){return _enabledElements_js__WEBPACK_IMPORTED_MODULE_22__.addEnabledElement});__webpack_require__.d(__webpack_exports__,"getEnabledElementsByImageId",function(){return _enabledElements_js__WEBPACK_IMPORTED_MODULE_22__.getEnabledElementsByImageId});__webpack_require__.d(__webpack_exports__,"getEnabledElements",function(){return _enabledElements_js__WEBPACK_IMPORTED_MODULE_22__.getEnabledElements});var _layers_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./layers.js");__webpack_require__.d(__webpack_exports__,"addLayer",function(){return _layers_js__WEBPACK_IMPORTED_MODULE_23__.addLayer});__webpack_require__.d(__webpack_exports__,"removeLayer",function(){return _layers_js__WEBPACK_IMPORTED_MODULE_23__.removeLayer});__webpack_require__.d(__webpack_exports__,"getLayer",function(){return _layers_js__WEBPACK_IMPORTED_MODULE_23__.getLayer});__webpack_require__.d(__webpack_exports__,"getLayers",function(){return _layers_js__WEBPACK_IMPORTED_MODULE_23__.getLayers});__webpack_require__.d(__webpack_exports__,"getVisibleLayers",function(){return _layers_js__WEBPACK_IMPORTED_MODULE_23__.getVisibleLayers});__webpack_require__.d(__webpack_exports__,"setActiveLayer",function(){return _layers_js__WEBPACK_IMPORTED_MODULE_23__.setActiveLayer});__webpack_require__.d(__webpack_exports__,"getActiveLayer",function(){return _layers_js__WEBPACK_IMPORTED_MODULE_23__.getActiveLayer});__webpack_require__.d(__webpack_exports__,"purgeLayers",function(){return _layers_js__WEBPACK_IMPORTED_MODULE_23__.purgeLayers});__webpack_require__.d(__webpack_exports__,"setLayerImage",function(){return _layers_js__WEBPACK_IMPORTED_MODULE_23__.setLayerImage});var _fitToWindow_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./fitToWindow.js");__webpack_require__.d(__webpack_exports__,"fitToWindow",function(){return _fitToWindow_js__WEBPACK_IMPORTED_MODULE_24__["default"]});var _getDefaultViewportForImage_js__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("./getDefaultViewportForImage.js");__webpack_require__.d(__webpack_exports__,"getDefaultViewportForImage",function(){return _getDefaultViewportForImage_js__WEBPACK_IMPORTED_MODULE_25__["default"]});var _getImage_js__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./getImage.js");__webpack_require__.d(__webpack_exports__,"getImage",function(){return _getImage_js__WEBPACK_IMPORTED_MODULE_26__["default"]});var _getPixels_js__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("./getPixels.js");__webpack_require__.d(__webpack_exports__,"getPixels",function(){return _getPixels_js__WEBPACK_IMPORTED_MODULE_27__["default"]});var _getStoredPixels_js__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("./getStoredPixels.js");__webpack_require__.d(__webpack_exports__,"getStoredPixels",function(){return _getStoredPixels_js__WEBPACK_IMPORTED_MODULE_28__["default"]});var _getViewport_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("./getViewport.js");__webpack_require__.d(__webpack_exports__,"getViewport",function(){return _getViewport_js__WEBPACK_IMPORTED_MODULE_29__["default"]});var _imageLoader_js__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("./imageLoader.js");__webpack_require__.d(__webpack_exports__,"loadImage",function(){return _imageLoader_js__WEBPACK_IMPORTED_MODULE_30__.loadImage});__webpack_require__.d(__webpack_exports__,"loadAndCacheImage",function(){return _imageLoader_js__WEBPACK_IMPORTED_MODULE_30__.loadAndCacheImage});__webpack_require__.d(__webpack_exports__,"registerImageLoader",function(){return _imageLoader_js__WEBPACK_IMPORTED_MODULE_30__.registerImageLoader});__webpack_require__.d(__webpack_exports__,"registerUnknownImageLoader",function(){return _imageLoader_js__WEBPACK_IMPORTED_MODULE_30__.registerUnknownImageLoader});var _invalidate_js__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("./invalidate.js");__webpack_require__.d(__webpack_exports__,"invalidate",function(){return _invalidate_js__WEBPACK_IMPORTED_MODULE_31__["default"]});var _invalidateImageId_js__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("./invalidateImageId.js");__webpack_require__.d(__webpack_exports__,"invalidateImageId",function(){return _invalidateImageId_js__WEBPACK_IMPORTED_MODULE_32__["default"]});var _pageToPixel_js__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("./pageToPixel.js");__webpack_require__.d(__webpack_exports__,"pageToPixel",function(){return _pageToPixel_js__WEBPACK_IMPORTED_MODULE_33__["default"]});var _pixelToCanvas_js__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("./pixelToCanvas.js");__webpack_require__.d(__webpack_exports__,"pixelToCanvas",function(){return _pixelToCanvas_js__WEBPACK_IMPORTED_MODULE_34__["default"]});var _reset_js__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("./reset.js");__webpack_require__.d(__webpack_exports__,"reset",function(){return _reset_js__WEBPACK_IMPORTED_MODULE_35__["default"]});var _resize_js__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("./resize.js");__webpack_require__.d(__webpack_exports__,"resize",function(){return _resize_js__WEBPACK_IMPORTED_MODULE_36__["default"]});var _setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("./setToPixelCoordinateSystem.js");__webpack_require__.d(__webpack_exports__,"setToPixelCoordinateSystem",function(){return _setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_37__["default"]});var _setViewport_js__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("./setViewport.js");__webpack_require__.d(__webpack_exports__,"setViewport",function(){return _setViewport_js__WEBPACK_IMPORTED_MODULE_38__["default"]});var _updateImage_js__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("./updateImage.js");__webpack_require__.d(__webpack_exports__,"updateImage",function(){return _updateImage_js__WEBPACK_IMPORTED_MODULE_39__["default"]});var _pixelDataToFalseColorData_js__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__("./pixelDataToFalseColorData.js");__webpack_require__.d(__webpack_exports__,"pixelDataToFalseColorData",function(){return _pixelDataToFalseColorData_js__WEBPACK_IMPORTED_MODULE_40__["default"]});var _rendering_index_js__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__("./rendering/index.js");__webpack_require__.d(__webpack_exports__,"rendering",function(){return _rendering_index_js__WEBPACK_IMPORTED_MODULE_41__["default"]});var _imageCache_js__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__("./imageCache.js");__webpack_require__.d(__webpack_exports__,"imageCache",function(){return _imageCache_js__WEBPACK_IMPORTED_MODULE_42__["default"]});var _metaData_js__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__("./metaData.js");__webpack_require__.d(__webpack_exports__,"metaData",function(){return _metaData_js__WEBPACK_IMPORTED_MODULE_43__["default"]});var _webgl_index_js__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__("./webgl/index.js");__webpack_require__.d(__webpack_exports__,"webGL",function(){return _webgl_index_js__WEBPACK_IMPORTED_MODULE_44__["default"]});var _colors_index_js__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__("./colors/index.js");__webpack_require__.d(__webpack_exports__,"colors",function(){return _colors_index_js__WEBPACK_IMPORTED_MODULE_45__["default"]});var _falseColorMapping_js__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__("./falseColorMapping.js");__webpack_require__.d(__webpack_exports__,"convertImageToFalseColorImage",function(){return _falseColorMapping_js__WEBPACK_IMPORTED_MODULE_46__.convertImageToFalseColorImage});__webpack_require__.d(__webpack_exports__,"convertToFalseColorImage",function(){return _falseColorMapping_js__WEBPACK_IMPORTED_MODULE_46__.convertToFalseColorImage});__webpack_require__.d(__webpack_exports__,"restoreImage",function(){return _falseColorMapping_js__WEBPACK_IMPORTED_MODULE_46__.restoreImage});var _events_js__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__("./events.js");__webpack_require__.d(__webpack_exports__,"EVENTS",function(){return _events_js__WEBPACK_IMPORTED_MODULE_47__["default"]});__webpack_require__.d(__webpack_exports__,"events",function(){return _events_js__WEBPACK_IMPORTED_MODULE_47__.events});var _triggerEvent_js__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__("./triggerEvent.js");__webpack_require__.d(__webpack_exports__,"triggerEvent",function(){return _triggerEvent_js__WEBPACK_IMPORTED_MODULE_48__["default"]});var cornerstone={drawImage:_internal_drawImage_js__WEBPACK_IMPORTED_MODULE_0__["default"],generateLut:_internal_generateLut_js__WEBPACK_IMPORTED_MODULE_1__["default"],getDefaultViewport:_internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_2__["default"],requestAnimationFrame:_internal_requestAnimationFrame_js__WEBPACK_IMPORTED_MODULE_3__["default"],storedPixelDataToCanvasImageData:_internal_storedPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_4__["default"],storedColorPixelDataToCanvasImageData:_internal_storedColorPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_5__["default"],storedPixelDataToCanvasImageDataColorLUT:_internal_storedPixelDataToCanvasImageDataColorLUT_js__WEBPACK_IMPORTED_MODULE_6__["default"],storedPixelDataToCanvasImageDataPseudocolorLUT:_internal_storedPixelDataToCanvasImageDataPseudocolorLUT_js__WEBPACK_IMPORTED_MODULE_7__["default"],internal:_internal_index_js__WEBPACK_IMPORTED_MODULE_8__["default"],renderLabelMapImage:_rendering_renderLabelMapImage_js__WEBPACK_IMPORTED_MODULE_9__.renderLabelMapImage,renderPseudoColorImage:_rendering_renderPseudoColorImage_js__WEBPACK_IMPORTED_MODULE_10__.renderPseudoColorImage,renderColorImage:_rendering_renderColorImage_js__WEBPACK_IMPORTED_MODULE_11__.renderColorImage,renderGrayscaleImage:_rendering_renderGrayscaleImage_js__WEBPACK_IMPORTED_MODULE_12__.renderGrayscaleImage,renderWebImage:_rendering_renderWebImage_js__WEBPACK_IMPORTED_MODULE_13__.renderWebImage,renderToCanvas:_rendering_renderToCanvas_js__WEBPACK_IMPORTED_MODULE_14__["default"],canvasToPixel:_canvasToPixel_js__WEBPACK_IMPORTED_MODULE_15__["default"],disable:_disable_js__WEBPACK_IMPORTED_MODULE_16__["default"],displayImage:_displayImage_js__WEBPACK_IMPORTED_MODULE_17__["default"],draw:_draw_js__WEBPACK_IMPORTED_MODULE_18__["default"],drawInvalidated:_drawInvalidated_js__WEBPACK_IMPORTED_MODULE_19__["default"],enable:_enable_js__WEBPACK_IMPORTED_MODULE_20__["default"],getElementData:_enabledElementData_js__WEBPACK_IMPORTED_MODULE_21__.getElementData,removeElementData:_enabledElementData_js__WEBPACK_IMPORTED_MODULE_21__.removeElementData,getEnabledElement:_enabledElements_js__WEBPACK_IMPORTED_MODULE_22__.getEnabledElement,addEnabledElement:_enabledElements_js__WEBPACK_IMPORTED_MODULE_22__.addEnabledElement,getEnabledElementsByImageId:_enabledElements_js__WEBPACK_IMPORTED_MODULE_22__.getEnabledElementsByImageId,getEnabledElements:_enabledElements_js__WEBPACK_IMPORTED_MODULE_22__.getEnabledElements,addLayer:_layers_js__WEBPACK_IMPORTED_MODULE_23__.addLayer,removeLayer:_layers_js__WEBPACK_IMPORTED_MODULE_23__.removeLayer,getLayer:_layers_js__WEBPACK_IMPORTED_MODULE_23__.getLayer,getLayers:_layers_js__WEBPACK_IMPORTED_MODULE_23__.getLayers,getVisibleLayers:_layers_js__WEBPACK_IMPORTED_MODULE_23__.getVisibleLayers,setActiveLayer:_layers_js__WEBPACK_IMPORTED_MODULE_23__.setActiveLayer,getActiveLayer:_layers_js__WEBPACK_IMPORTED_MODULE_23__.getActiveLayer,purgeLayers:_layers_js__WEBPACK_IMPORTED_MODULE_23__.purgeLayers,setLayerImage:_layers_js__WEBPACK_IMPORTED_MODULE_23__.setLayerImage,fitToWindow:_fitToWindow_js__WEBPACK_IMPORTED_MODULE_24__["default"],getDefaultViewportForImage:_getDefaultViewportForImage_js__WEBPACK_IMPORTED_MODULE_25__["default"],getImage:_getImage_js__WEBPACK_IMPORTED_MODULE_26__["default"],getPixels:_getPixels_js__WEBPACK_IMPORTED_MODULE_27__["default"],getStoredPixels:_getStoredPixels_js__WEBPACK_IMPORTED_MODULE_28__["default"],getViewport:_getViewport_js__WEBPACK_IMPORTED_MODULE_29__["default"],loadImage:_imageLoader_js__WEBPACK_IMPORTED_MODULE_30__.loadImage,loadAndCacheImage:_imageLoader_js__WEBPACK_IMPORTED_MODULE_30__.loadAndCacheImage,registerImageLoader:_imageLoader_js__WEBPACK_IMPORTED_MODULE_30__.registerImageLoader,registerUnknownImageLoader:_imageLoader_js__WEBPACK_IMPORTED_MODULE_30__.registerUnknownImageLoader,invalidate:_invalidate_js__WEBPACK_IMPORTED_MODULE_31__["default"],invalidateImageId:_invalidateImageId_js__WEBPACK_IMPORTED_MODULE_32__["default"],pageToPixel:_pageToPixel_js__WEBPACK_IMPORTED_MODULE_33__["default"],pixelToCanvas:_pixelToCanvas_js__WEBPACK_IMPORTED_MODULE_34__["default"],reset:_reset_js__WEBPACK_IMPORTED_MODULE_35__["default"],resize:_resize_js__WEBPACK_IMPORTED_MODULE_36__["default"],setToPixelCoordinateSystem:_setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_37__["default"],setViewport:_setViewport_js__WEBPACK_IMPORTED_MODULE_38__["default"],updateImage:_updateImage_js__WEBPACK_IMPORTED_MODULE_39__["default"],pixelDataToFalseColorData:_pixelDataToFalseColorData_js__WEBPACK_IMPORTED_MODULE_40__["default"],rendering:_rendering_index_js__WEBPACK_IMPORTED_MODULE_41__["default"],imageCache:_imageCache_js__WEBPACK_IMPORTED_MODULE_42__["default"],metaData:_metaData_js__WEBPACK_IMPORTED_MODULE_43__["default"],webGL:_webgl_index_js__WEBPACK_IMPORTED_MODULE_44__["default"],colors:_colors_index_js__WEBPACK_IMPORTED_MODULE_45__["default"],convertImageToFalseColorImage:_falseColorMapping_js__WEBPACK_IMPORTED_MODULE_46__.convertImageToFalseColorImage,convertToFalseColorImage:_falseColorMapping_js__WEBPACK_IMPORTED_MODULE_46__.convertToFalseColorImage,restoreImage:_falseColorMapping_js__WEBPACK_IMPORTED_MODULE_46__.restoreImage,EVENTS:_events_js__WEBPACK_IMPORTED_MODULE_47__["default"],events:_events_js__WEBPACK_IMPORTED_MODULE_47__.events,triggerEvent:_triggerEvent_js__WEBPACK_IMPORTED_MODULE_48__["default"]};__webpack_exports__["default"]=cornerstone},"./internal/calculateTransform.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _transform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./internal/transform.js");__webpack_exports__["default"]=function(enabledElement,scale){var transform=new _transform_js__WEBPACK_IMPORTED_MODULE_0__.Transform;transform.translate(enabledElement.canvas.width/2,enabledElement.canvas.height/2);var angle=enabledElement.viewport.rotation;if(0!==angle){transform.rotate(angle*_MathPI/180)}var widthScale=enabledElement.viewport.scale,heightScale=enabledElement.viewport.scale,width=enabledElement.viewport.displayedArea.brhc.x-(enabledElement.viewport.displayedArea.tlhc.x-1),height=enabledElement.viewport.displayedArea.brhc.y-(enabledElement.viewport.displayedArea.tlhc.y-1);if("NONE"===enabledElement.viewport.displayedArea.presentationSizeMode){if(enabledElement.image.rowPixelSpacing<enabledElement.image.columnPixelSpacing){widthScale*=enabledElement.image.columnPixelSpacing/enabledElement.image.rowPixelSpacing}else if(enabledElement.image.columnPixelSpacing<enabledElement.image.rowPixelSpacing){heightScale*=enabledElement.image.rowPixelSpacing/enabledElement.image.columnPixelSpacing}}else{widthScale=enabledElement.viewport.displayedArea.columnPixelSpacing;heightScale=enabledElement.viewport.displayedArea.rowPixelSpacing;if("SCALE TO FIT"===enabledElement.viewport.displayedArea.presentationSizeMode){var verticalScale=enabledElement.canvas.height/(height*heightScale),horizontalScale=enabledElement.canvas.width/(width*widthScale);widthScale=heightScale=_Mathmin(horizontalScale,verticalScale);if(enabledElement.viewport.displayedArea.rowPixelSpacing<enabledElement.viewport.displayedArea.columnPixelSpacing){widthScale*=enabledElement.viewport.displayedArea.columnPixelSpacing/enabledElement.viewport.displayedArea.rowPixelSpacing}else if(enabledElement.viewport.displayedArea.columnPixelSpacing<enabledElement.viewport.displayedArea.rowPixelSpacing){heightScale*=enabledElement.viewport.displayedArea.rowPixelSpacing/enabledElement.viewport.displayedArea.columnPixelSpacing}}}transform.scale(widthScale,heightScale);if(0!==angle){transform.rotate(-angle*_MathPI/180)}transform.translate(enabledElement.viewport.translation.x,enabledElement.viewport.translation.y);if(0!==angle){transform.rotate(angle*_MathPI/180)}if(void 0!==scale){transform.scale(scale,scale)}if(enabledElement.viewport.hflip){transform.scale(-1,1)}if(enabledElement.viewport.vflip){transform.scale(1,-1)}transform.translate(-width/2,-height/2);return transform}},"./internal/computeAutoVoi.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return computeAutoVoi});function computeAutoVoi(viewport,image){if(hasVoi(viewport)){return}var maxVoi=image.maxPixelValue*image.slope+image.intercept,minVoi=image.minPixelValue*image.slope+image.intercept,ww=maxVoi-minVoi,wc=(maxVoi+minVoi)/2;if(void 0===viewport.voi){viewport.voi={windowWidth:ww,windowCenter:wc}}else{viewport.voi.windowWidth=ww;viewport.voi.windowCenter=wc}}function hasVoi(viewport){var hasLut=viewport.voiLUT&&viewport.voiLUT.lut&&0<viewport.voiLUT.lut.length;return hasLut||void 0!==viewport.voi.windowWidth&&void 0!==viewport.voi.windowCenter}},"./internal/drawCompositeImage.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _layers_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./layers.js"),_rendering_renderGrayscaleImage_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./rendering/renderGrayscaleImage.js"),_rendering_renderColorImage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./rendering/renderColorImage.js"),_rendering_renderPseudoColorImage_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./rendering/renderPseudoColorImage.js"),_rendering_renderLabelMapImage_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./rendering/renderLabelMapImage.js"),_setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./setToPixelCoordinateSystem.js");function getViewportRatio(baseLayer,targetLayer){if(!baseLayer.syncProps){updateLayerSyncProps(baseLayer)}if(!targetLayer.syncProps){updateLayerSyncProps(targetLayer)}return targetLayer.syncProps.originalScale/baseLayer.syncProps.originalScale}function updateLayerSyncProps(layer){var syncProps=layer.syncProps||{};syncProps.originalScale=layer.viewport.scale;layer.syncProps=syncProps}function syncViewports(layers,activeLayer){layers.forEach(function(layer){if(layer===activeLayer||!layer.viewport||!activeLayer.viewport){return}if(!layer.syncProps){updateLayerSyncProps(layer)}var viewportRatio=getViewportRatio(activeLayer,layer);layer.viewport.scale=activeLayer.viewport.scale*viewportRatio;layer.viewport.rotation=activeLayer.viewport.rotation;layer.viewport.translation={x:activeLayer.viewport.translation.x/viewportRatio,y:activeLayer.viewport.translation.y/viewportRatio};layer.viewport.hflip=activeLayer.viewport.hflip;layer.viewport.vflip=activeLayer.viewport.vflip})}function renderLayers(context,layers,invalidated){layers.forEach(function(layer,index){if(!layer.image){return}context.save();layer.canvas=context.canvas;Object(_setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_5__["default"])(layer,context);var colormap=layer.viewport.colormap||layer.options.colormap,labelmap=layer.viewport.labelmap,isInvalid=layer.invalid||invalidated;if(colormap&&""!==colormap&&!0===labelmap){Object(_rendering_renderLabelMapImage_js__WEBPACK_IMPORTED_MODULE_4__.addLabelMapLayer)(layer,isInvalid)}else if(colormap&&""!==colormap){Object(_rendering_renderPseudoColorImage_js__WEBPACK_IMPORTED_MODULE_3__.addPseudoColorLayer)(layer,isInvalid)}else if(!0===layer.image.color){Object(_rendering_renderColorImage_js__WEBPACK_IMPORTED_MODULE_2__.addColorLayer)(layer,isInvalid)}else{var useAlphaChannel=0===index;Object(_rendering_renderGrayscaleImage_js__WEBPACK_IMPORTED_MODULE_1__.addGrayscaleLayer)(layer,isInvalid,useAlphaChannel)}if(layer.options&&layer.options.opacity){context.globalAlpha=layer.options.opacity}else{context.globalAlpha=1}if(layer.options&&layer.options.fillStyle){context.fillStyle=layer.options.fillStyle}context.imageSmoothingEnabled=!layer.viewport.pixelReplication;context.mozImageSmoothingEnabled=context.imageSmoothingEnabled;var sx=layer.viewport.displayedArea.tlhc.x-1,sy=layer.viewport.displayedArea.tlhc.y-1,width=layer.viewport.displayedArea.brhc.x-sx,height=layer.viewport.displayedArea.brhc.y-sy;context.drawImage(layer.canvas,sx,sy,width,height,0,0,width,height);context.restore();layer.invalid=!1})}__webpack_exports__["default"]=function(enabledElement,invalidated){var element=enabledElement.element,allLayers=Object(_layers_js__WEBPACK_IMPORTED_MODULE_0__.getLayers)(element),activeLayer=Object(_layers_js__WEBPACK_IMPORTED_MODULE_0__.getActiveLayer)(element),visibleLayers=Object(_layers_js__WEBPACK_IMPORTED_MODULE_0__.getVisibleLayers)(element),resynced=!enabledElement.lastSyncViewportsState&&enabledElement.syncViewports;enabledElement.lastSyncViewportsState=enabledElement.syncViewports;if(resynced){allLayers.forEach(function(layer){if(layer.viewport){updateLayerSyncProps(layer)}})}if(!0===enabledElement.syncViewports){syncViewports(visibleLayers,activeLayer)}var context=enabledElement.canvas.getContext("2d");context.setTransform(1,0,0,1,0,0);context.fillStyle="black";context.fillRect(0,0,enabledElement.canvas.width,enabledElement.canvas.height);renderLayers(context,visibleLayers,invalidated)}},"./internal/drawImage.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]=function(enabledElement){var invalidated=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;enabledElement.needsRedraw=!0;if(invalidated){enabledElement.invalid=!0}}},"./internal/drawImageSync.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _now_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./internal/now.js"),_drawCompositeImage_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/drawCompositeImage.js"),_rendering_renderColorImage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./rendering/renderColorImage.js"),_rendering_renderGrayscaleImage_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./rendering/renderGrayscaleImage.js"),_rendering_renderPseudoColorImage_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./rendering/renderPseudoColorImage.js"),_rendering_renderLabelMapImage_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./rendering/renderLabelMapImage.js"),_triggerEvent_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./triggerEvent.js"),_events_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./events.js");__webpack_exports__["default"]=function(enabledElement,invalidated){var image=enabledElement.image,element=enabledElement.element,layers=enabledElement.layers||[];if(!enabledElement.canvas||!(enabledElement.image||layers.length)){return}var start=Object(_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])();image.stats={lastGetPixelDataTime:-1,lastStoredPixelDataToCanvasImageDataTime:-1,lastPutImageDataTime:-1,lastRenderTime:-1,lastLutGenerateTime:-1};if(layers&&layers.length){Object(_drawCompositeImage_js__WEBPACK_IMPORTED_MODULE_1__["default"])(enabledElement,invalidated)}else if(image){var render=image.render;if(!render){if(enabledElement.viewport.colormap&&""!==enabledElement.viewport.colormap&&!0===enabledElement.image.labelmap){render=_rendering_renderLabelMapImage_js__WEBPACK_IMPORTED_MODULE_5__.renderLabelMapImage}else if(enabledElement.viewport.colormap&&""!==enabledElement.viewport.colormap){render=_rendering_renderPseudoColorImage_js__WEBPACK_IMPORTED_MODULE_4__.renderPseudoColorImage}else if(image.color){render=_rendering_renderColorImage_js__WEBPACK_IMPORTED_MODULE_2__.renderColorImage}else{render=_rendering_renderGrayscaleImage_js__WEBPACK_IMPORTED_MODULE_3__.renderGrayscaleImage}}render(enabledElement,invalidated)}var renderTimeInMs=Object(_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])()-start,eventData={viewport:enabledElement.viewport,element:element,image:image,enabledElement:enabledElement,canvasContext:enabledElement.canvas.getContext("2d"),renderTimeInMs:renderTimeInMs};image.stats.lastRenderTime=renderTimeInMs;enabledElement.invalid=!1;enabledElement.needsRedraw=!1;Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_6__["default"])(element,_events_js__WEBPACK_IMPORTED_MODULE_7__["default"].IMAGE_RENDERED,eventData)}},"./internal/generateColorLut.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _getVOILut_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./internal/getVOILut.js");__webpack_exports__["default"]=function(image,windowWidth,windowCenter,invert,voiLUT){var maxPixelValue=image.maxPixelValue,minPixelValue=image.minPixelValue,offset=_Mathmin(minPixelValue,0);if(void 0===image.cachedLut){var length=maxPixelValue-offset+1;image.cachedLut={};image.cachedLut.lutArray=new Uint8ClampedArray(length)}var lut=image.cachedLut.lutArray,vlutfn=Object(_getVOILut_js__WEBPACK_IMPORTED_MODULE_0__["default"])(windowWidth,windowCenter,voiLUT);if(!0===invert){for(var storedValue=minPixelValue;storedValue<=maxPixelValue;storedValue++){lut[storedValue+-offset]=255-vlutfn(storedValue)}}else{for(var _storedValue=minPixelValue;_storedValue<=maxPixelValue;_storedValue++){lut[_storedValue+-offset]=vlutfn(_storedValue)}}return lut}},"./internal/generateLut.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _getModalityLUT_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./internal/getModalityLUT.js"),_getVOILut_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/getVOILut.js");__webpack_exports__["default"]=function(image,windowWidth,windowCenter,invert,modalityLUT,voiLUT){var maxPixelValue=image.maxPixelValue,minPixelValue=image.minPixelValue,offset=_Mathmin(minPixelValue,0);if(void 0===image.cachedLut){var length=maxPixelValue-offset+1;image.cachedLut={};image.cachedLut.lutArray=new Uint8ClampedArray(length)}var lut=image.cachedLut.lutArray,mlutfn=Object(_getModalityLUT_js__WEBPACK_IMPORTED_MODULE_0__["default"])(image.slope,image.intercept,modalityLUT),vlutfn=Object(_getVOILut_js__WEBPACK_IMPORTED_MODULE_1__["default"])(windowWidth,windowCenter,voiLUT);if(!0===invert){for(var storedValue=minPixelValue;storedValue<=maxPixelValue;storedValue++){lut[storedValue+-offset]=255-vlutfn(mlutfn(storedValue))}}else{for(var _storedValue=minPixelValue;_storedValue<=maxPixelValue;_storedValue++){lut[_storedValue+-offset]=vlutfn(mlutfn(_storedValue))}}return lut}},"./internal/getCanvas.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return getCanvas});var CANVAS_CSS_CLASS="cornerstone-canvas";function createCanvas(element){var canvas=document.createElement("canvas");canvas.style.display="block";canvas.classList.add(CANVAS_CSS_CLASS);element.appendChild(canvas);return canvas}function getCanvas(element){var selector="canvas.".concat(CANVAS_CSS_CLASS);return element.querySelector(selector)||createCanvas(element)}},"./internal/getDefaultViewport.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _getImageFitScale_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./internal/getImageFitScale.js");function createViewport(){var displayedArea=createDefaultDisplayedArea();return{scale:1,translation:{x:0,y:0},voi:{windowWidth:void 0,windowCenter:void 0},invert:!1,pixelReplication:!1,rotation:0,hflip:!1,vflip:!1,modalityLUT:void 0,voiLUT:void 0,colormap:void 0,labelmap:!1,displayedArea:displayedArea}}function createDefaultDisplayedArea(){return{tlhc:{x:1,y:1},brhc:{x:1,y:1},rowPixelSpacing:1,columnPixelSpacing:1,presentationSizeMode:"NONE"}}__webpack_exports__["default"]=function(canvas,image){if(void 0===canvas){throw new Error("getDefaultViewport: parameter canvas must not be undefined")}if(void 0===image){return createViewport()}var scale=Object(_getImageFitScale_js__WEBPACK_IMPORTED_MODULE_0__["default"])(canvas,image,0).scaleFactor;return{scale:scale,translation:{x:0,y:0},voi:{windowWidth:image.windowWidth,windowCenter:image.windowCenter},invert:image.invert,pixelReplication:!1,rotation:0,hflip:!1,vflip:!1,modalityLUT:image.modalityLUT,voiLUT:image.voiLUT,colormap:image.colormap,labelmap:!!image.labelmap,displayedArea:{tlhc:{x:1,y:1},brhc:{x:image.columns,y:image.rows},rowPixelSpacing:void 0===image.rowPixelSpacing?1:image.rowPixelSpacing,columnPixelSpacing:void 0===image.columnPixelSpacing?1:image.columnPixelSpacing,presentationSizeMode:"NONE"}}}},"./internal/getImageFitScale.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _validator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./internal/validator.js"),_getImageSize_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/getImageSize.js");__webpack_exports__["default"]=function(windowSize,image){var rotation=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;Object(_validator_js__WEBPACK_IMPORTED_MODULE_0__.validateParameterUndefinedOrNull)(windowSize,"getImageScale: parameter windowSize must not be undefined");Object(_validator_js__WEBPACK_IMPORTED_MODULE_0__.validateParameterUndefinedOrNull)(image,"getImageScale: parameter image must not be undefined");var imageSize=Object(_getImageSize_js__WEBPACK_IMPORTED_MODULE_1__["default"])(image,rotation),rowPixelSpacing=image.rowPixelSpacing||1,columnPixelSpacing=image.columnPixelSpacing||1,verticalRatio=1,horizontalRatio=1;if(rowPixelSpacing<columnPixelSpacing){horizontalRatio=columnPixelSpacing/rowPixelSpacing}else{verticalRatio=rowPixelSpacing/columnPixelSpacing}var verticalScale=windowSize.height/imageSize.height/verticalRatio,horizontalScale=windowSize.width/imageSize.width/horizontalRatio;return{verticalScale:verticalScale,horizontalScale:horizontalScale,scaleFactor:_Mathmin(horizontalScale,verticalScale)}}},"./internal/getImageSize.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _validator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./internal/validator.js");function isRotated(rotation){return!(null===rotation||void 0===rotation||0===rotation||180===rotation)}__webpack_exports__["default"]=function(image){var rotation=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;Object(_validator_js__WEBPACK_IMPORTED_MODULE_0__.validateParameterUndefinedOrNull)(image,"getImageSize: parameter image must not be undefined");Object(_validator_js__WEBPACK_IMPORTED_MODULE_0__.validateParameterUndefinedOrNull)(image.width,"getImageSize: parameter image must have width");Object(_validator_js__WEBPACK_IMPORTED_MODULE_0__.validateParameterUndefinedOrNull)(image.height,"getImageSize: parameter image must have height");if(isRotated(rotation)){return{height:image.width,width:image.height}}return{width:image.width,height:image.height}}},"./internal/getModalityLUT.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);function generateLinearModalityLUT(slope,intercept){return function(storedPixelValue){return storedPixelValue*slope+intercept}}function generateNonLinearModalityLUT(modalityLUT){var minValue=modalityLUT.lut[0],maxValue=modalityLUT.lut[modalityLUT.lut.length-1],maxValueMapped=modalityLUT.firstValueMapped+modalityLUT.lut.length;return function(storedPixelValue){if(storedPixelValue<modalityLUT.firstValueMapped){return minValue}else if(storedPixelValue>=maxValueMapped){return maxValue}return modalityLUT.lut[storedPixelValue]}}__webpack_exports__["default"]=function(slope,intercept,modalityLUT){if(modalityLUT){return generateNonLinearModalityLUT(modalityLUT)}return generateLinearModalityLUT(slope,intercept)}},"./internal/getTransform.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _calculateTransform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./internal/calculateTransform.js");__webpack_exports__["default"]=function(enabledElement){return Object(_calculateTransform_js__WEBPACK_IMPORTED_MODULE_0__["default"])(enabledElement)}},"./internal/getVOILut.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function generateLinearVOILUT(windowWidth,windowCenter){return function(modalityLutValue){return 255*((modalityLutValue-windowCenter)/windowWidth+.5)}}function generateNonLinearVOILUT(voiLUT){var bitsPerEntry=_Mathmax.apply(Math,_toConsumableArray(voiLUT.lut)).toString(2).length,shift=bitsPerEntry-8,minValue=voiLUT.lut[0]>>shift,maxValue=voiLUT.lut[voiLUT.lut.length-1]>>shift,maxValueMapped=voiLUT.firstValueMapped+voiLUT.lut.length-1;return function(modalityLutValue){if(modalityLutValue<voiLUT.firstValueMapped){return minValue}else if(modalityLutValue>=maxValueMapped){return maxValue}return voiLUT.lut[modalityLutValue-voiLUT.firstValueMapped]>>shift}}__webpack_exports__["default"]=function(windowWidth,windowCenter,voiLUT){if(voiLUT){return generateNonLinearVOILUT(voiLUT)}return generateLinearVOILUT(windowWidth,windowCenter)}},"./internal/guid.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);function s4(){return _Mathfloor(65536*(1+Math.random())).toString(16).substring(1)}__webpack_exports__["default"]=function(){return"".concat(s4()+s4(),"-").concat(s4(),"-").concat(s4(),"-").concat(s4(),"-").concat(s4()).concat(s4()).concat(s4())}},"./internal/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _drawImage_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./internal/drawImage.js"),_generateLut_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/generateLut.js"),_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./internal/getDefaultViewport.js"),_requestAnimationFrame_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./internal/requestAnimationFrame.js"),_storedPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./internal/storedPixelDataToCanvasImageData.js"),_storedPixelDataToCanvasImageDataRGBA_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./internal/storedPixelDataToCanvasImageDataRGBA.js"),_storedColorPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./internal/storedColorPixelDataToCanvasImageData.js"),_storedPixelDataToCanvasImageDataColorLUT_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./internal/storedPixelDataToCanvasImageDataColorLUT.js"),_storedPixelDataToCanvasImageDataPseudocolorLUT_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js"),_getTransform_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./internal/getTransform.js"),_calculateTransform_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./internal/calculateTransform.js"),_transform_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./internal/transform.js");__webpack_exports__["default"]={drawImage:_drawImage_js__WEBPACK_IMPORTED_MODULE_0__["default"],generateLut:_generateLut_js__WEBPACK_IMPORTED_MODULE_1__["default"],getDefaultViewport:_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_2__["default"],requestAnimationFrame:_requestAnimationFrame_js__WEBPACK_IMPORTED_MODULE_3__["default"],storedPixelDataToCanvasImageData:_storedPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_4__["default"],storedPixelDataToCanvasImageDataRGBA:_storedPixelDataToCanvasImageDataRGBA_js__WEBPACK_IMPORTED_MODULE_5__["default"],storedPixelDataToCanvasImageDataColorLUT:_storedPixelDataToCanvasImageDataColorLUT_js__WEBPACK_IMPORTED_MODULE_7__["default"],storedPixelDataToCanvasImageDataPseudocolorLUT:_storedPixelDataToCanvasImageDataPseudocolorLUT_js__WEBPACK_IMPORTED_MODULE_8__["default"],storedColorPixelDataToCanvasImageData:_storedColorPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_6__["default"],getTransform:_getTransform_js__WEBPACK_IMPORTED_MODULE_9__["default"],calculateTransform:_calculateTransform_js__WEBPACK_IMPORTED_MODULE_10__["default"],Transform:_transform_js__WEBPACK_IMPORTED_MODULE_11__.Transform}},"./internal/now.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]=function(){if(window.performance){return performance.now()}return Date.now()}},"./internal/requestAnimationFrame.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);function requestFrame(callback){window.setTimeout(callback,1e3/60)}__webpack_exports__["default"]=function(callback){return window.requestAnimationFrame(callback)||window.webkitRequestAnimationFrame(callback)||window.mozRequestAnimationFrame(callback)||window.oRequestAnimationFrame(callback)||window.msRequestAnimationFrame(callback)||requestFrame(callback)}},"./internal/storedColorPixelDataToCanvasImageData.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _now_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./internal/now.js");__webpack_exports__["default"]=function(image,lut,canvasImageDataData){var start=Object(_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])(),pixelData=image.getPixelData();image.stats.lastGetPixelDataTime=Object(_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])()-start;var minPixelValue=image.minPixelValue,canvasImageDataIndex=0,storedPixelDataIndex=0,numPixels=pixelData.length;start=Object(_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])();if(0>minPixelValue){while(storedPixelDataIndex<numPixels){canvasImageDataData[canvasImageDataIndex++]=lut[pixelData[storedPixelDataIndex++]+-minPixelValue];canvasImageDataData[canvasImageDataIndex++]=lut[pixelData[storedPixelDataIndex++]+-minPixelValue];canvasImageDataData[canvasImageDataIndex]=lut[pixelData[storedPixelDataIndex]+-minPixelValue];storedPixelDataIndex+=2;canvasImageDataIndex+=2}}else{while(storedPixelDataIndex<numPixels){canvasImageDataData[canvasImageDataIndex++]=lut[pixelData[storedPixelDataIndex++]];canvasImageDataData[canvasImageDataIndex++]=lut[pixelData[storedPixelDataIndex++]];canvasImageDataData[canvasImageDataIndex]=lut[pixelData[storedPixelDataIndex]];storedPixelDataIndex+=2;canvasImageDataIndex+=2}}image.stats.lastStoredPixelDataToCanvasImageDataTime=Object(_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])()-start}},"./internal/storedPixelDataToCanvasImageData.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _now_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./internal/now.js");__webpack_exports__["default"]=function(image,lut,canvasImageDataData){var start=Object(_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])(),pixelData=image.getPixelData();image.stats.lastGetPixelDataTime=Object(_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])()-start;var numPixels=pixelData.length,minPixelValue=image.minPixelValue,canvasImageDataIndex=3,storedPixelDataIndex=0;start=Object(_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])();if(pixelData instanceof Int16Array){if(0>minPixelValue){while(storedPixelDataIndex<numPixels){canvasImageDataData[canvasImageDataIndex]=lut[pixelData[storedPixelDataIndex++]+-minPixelValue];canvasImageDataIndex+=4}}else{while(storedPixelDataIndex<numPixels){canvasImageDataData[canvasImageDataIndex]=lut[pixelData[storedPixelDataIndex++]];canvasImageDataIndex+=4}}}else if(pixelData instanceof Uint16Array){while(storedPixelDataIndex<numPixels){canvasImageDataData[canvasImageDataIndex]=lut[pixelData[storedPixelDataIndex++]];canvasImageDataIndex+=4}}else if(0>minPixelValue){while(storedPixelDataIndex<numPixels){canvasImageDataData[canvasImageDataIndex]=lut[pixelData[storedPixelDataIndex++]+-minPixelValue];canvasImageDataIndex+=4}}else{while(storedPixelDataIndex<numPixels){canvasImageDataData[canvasImageDataIndex]=lut[pixelData[storedPixelDataIndex++]];canvasImageDataIndex+=4}}image.stats.lastStoredPixelDataToCanvasImageDataTime=Object(_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])()-start}},"./internal/storedPixelDataToCanvasImageDataColorLUT.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _colors_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./colors/index.js"),_now_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/now.js");function storedPixelDataToCanvasImageDataColorLUT(image,colorLut,canvasImageDataData){var start=Object(_now_js__WEBPACK_IMPORTED_MODULE_1__["default"])(),pixelData=image.getPixelData();image.stats.lastGetPixelDataTime=Object(_now_js__WEBPACK_IMPORTED_MODULE_1__["default"])()-start;var numPixels=pixelData.length,minPixelValue=image.minPixelValue,canvasImageDataIndex=0,storedPixelDataIndex=0,rgba,clut;start=Object(_now_js__WEBPACK_IMPORTED_MODULE_1__["default"])();if(colorLut instanceof _colors_index_js__WEBPACK_IMPORTED_MODULE_0__["default"].LookupTable){clut=colorLut.Table}else{clut=colorLut}if(0>minPixelValue){while(storedPixelDataIndex<numPixels){rgba=clut[pixelData[storedPixelDataIndex++]+-minPixelValue];canvasImageDataData[canvasImageDataIndex++]=rgba[0];canvasImageDataData[canvasImageDataIndex++]=rgba[1];canvasImageDataData[canvasImageDataIndex++]=rgba[2];canvasImageDataData[canvasImageDataIndex++]=rgba[3]}}else{while(storedPixelDataIndex<numPixels){rgba=clut[pixelData[storedPixelDataIndex++]];canvasImageDataData[canvasImageDataIndex++]=rgba[0];canvasImageDataData[canvasImageDataIndex++]=rgba[1];canvasImageDataData[canvasImageDataIndex++]=rgba[2];canvasImageDataData[canvasImageDataIndex++]=rgba[3]}}image.stats.lastStoredPixelDataToCanvasImageDataTime=Object(_now_js__WEBPACK_IMPORTED_MODULE_1__["default"])()-start}__webpack_exports__["default"]=storedPixelDataToCanvasImageDataColorLUT},"./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _colors_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./colors/index.js"),_now_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/now.js");function storedPixelDataToCanvasImageDataPseudocolorLUT(image,grayscaleLut,colorLut,canvasImageDataData){var start=Object(_now_js__WEBPACK_IMPORTED_MODULE_1__["default"])(),pixelData=image.getPixelData();image.stats.lastGetPixelDataTime=Object(_now_js__WEBPACK_IMPORTED_MODULE_1__["default"])()-start;var numPixels=pixelData.length,minPixelValue=image.minPixelValue,canvasImageDataIndex=0,storedPixelDataIndex=0,grayscale,rgba,clut;start=Object(_now_js__WEBPACK_IMPORTED_MODULE_1__["default"])();if(colorLut instanceof _colors_index_js__WEBPACK_IMPORTED_MODULE_0__["default"].LookupTable){clut=colorLut.Table}else{clut=colorLut}if(0>minPixelValue){while(storedPixelDataIndex<numPixels){grayscale=grayscaleLut[pixelData[storedPixelDataIndex++]+-minPixelValue];rgba=clut[grayscale];canvasImageDataData[canvasImageDataIndex++]=rgba[0];canvasImageDataData[canvasImageDataIndex++]=rgba[1];canvasImageDataData[canvasImageDataIndex++]=rgba[2];canvasImageDataData[canvasImageDataIndex++]=rgba[3]}}else{while(storedPixelDataIndex<numPixels){grayscale=grayscaleLut[pixelData[storedPixelDataIndex++]];rgba=clut[grayscale];canvasImageDataData[canvasImageDataIndex++]=rgba[0];canvasImageDataData[canvasImageDataIndex++]=rgba[1];canvasImageDataData[canvasImageDataIndex++]=rgba[2];canvasImageDataData[canvasImageDataIndex++]=rgba[3]}}image.stats.lastStoredPixelDataToCanvasImageDataTime=Object(_now_js__WEBPACK_IMPORTED_MODULE_1__["default"])()-start}__webpack_exports__["default"]=storedPixelDataToCanvasImageDataPseudocolorLUT},"./internal/storedPixelDataToCanvasImageDataRGBA.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _now_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./internal/now.js");__webpack_exports__["default"]=function(image,lut,canvasImageDataData){var start=Object(_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])(),pixelData=image.getPixelData();image.stats.lastGetPixelDataTime=Object(_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])()-start;var numPixels=pixelData.length,minPixelValue=image.minPixelValue,canvasImageDataIndex=0,storedPixelDataIndex=0,pixelValue;start=Object(_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])();if(pixelData instanceof Int16Array){if(0>minPixelValue){while(storedPixelDataIndex<numPixels){pixelValue=lut[pixelData[storedPixelDataIndex++]+-minPixelValue];canvasImageDataData[canvasImageDataIndex++]=pixelValue;canvasImageDataData[canvasImageDataIndex++]=pixelValue;canvasImageDataData[canvasImageDataIndex++]=pixelValue;canvasImageDataData[canvasImageDataIndex++]=255}}else{while(storedPixelDataIndex<numPixels){pixelValue=lut[pixelData[storedPixelDataIndex++]];canvasImageDataData[canvasImageDataIndex++]=pixelValue;canvasImageDataData[canvasImageDataIndex++]=pixelValue;canvasImageDataData[canvasImageDataIndex++]=pixelValue;canvasImageDataData[canvasImageDataIndex++]=255}}}else if(pixelData instanceof Uint16Array){while(storedPixelDataIndex<numPixels){pixelValue=lut[pixelData[storedPixelDataIndex++]];canvasImageDataData[canvasImageDataIndex++]=pixelValue;canvasImageDataData[canvasImageDataIndex++]=pixelValue;canvasImageDataData[canvasImageDataIndex++]=pixelValue;canvasImageDataData[canvasImageDataIndex++]=255}}else if(0>minPixelValue){while(storedPixelDataIndex<numPixels){pixelValue=lut[pixelData[storedPixelDataIndex++]+-minPixelValue];canvasImageDataData[canvasImageDataIndex++]=pixelValue;canvasImageDataData[canvasImageDataIndex++]=pixelValue;canvasImageDataData[canvasImageDataIndex++]=pixelValue;canvasImageDataData[canvasImageDataIndex++]=255}}else{while(storedPixelDataIndex<numPixels){pixelValue=lut[pixelData[storedPixelDataIndex++]];canvasImageDataData[canvasImageDataIndex++]=pixelValue;canvasImageDataData[canvasImageDataIndex++]=pixelValue;canvasImageDataData[canvasImageDataIndex++]=pixelValue;canvasImageDataData[canvasImageDataIndex++]=255}}image.stats.lastStoredPixelDataToCanvasImageDataTime=Object(_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])()-start}},"./internal/storedRGBAPixelDataToCanvasImageData.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _now_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./internal/now.js");__webpack_exports__["default"]=function(image,lut,canvasImageDataData){var start=Object(_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])(),pixelData=image.getPixelData();image.stats.lastGetPixelDataTime=Object(_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])()-start;var minPixelValue=image.minPixelValue,canvasImageDataIndex=0,storedPixelDataIndex=0,numPixels=pixelData.length;start=Object(_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])();if(0>minPixelValue){while(storedPixelDataIndex<numPixels){canvasImageDataData[canvasImageDataIndex++]=lut[pixelData[storedPixelDataIndex++]+-minPixelValue];canvasImageDataData[canvasImageDataIndex++]=lut[pixelData[storedPixelDataIndex++]+-minPixelValue];canvasImageDataData[canvasImageDataIndex++]=lut[pixelData[storedPixelDataIndex++]+-minPixelValue];canvasImageDataData[canvasImageDataIndex++]=pixelData[storedPixelDataIndex++]}}else{while(storedPixelDataIndex<numPixels){canvasImageDataData[canvasImageDataIndex++]=lut[pixelData[storedPixelDataIndex++]];canvasImageDataData[canvasImageDataIndex++]=lut[pixelData[storedPixelDataIndex++]];canvasImageDataData[canvasImageDataIndex++]=lut[pixelData[storedPixelDataIndex++]];canvasImageDataData[canvasImageDataIndex++]=pixelData[storedPixelDataIndex++]}}image.stats.lastStoredPixelDataToCanvasImageDataTime=Object(_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])()-start}},"./internal/transform.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"Transform",function(){return Transform});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Transform=function(){function Transform(){_classCallCheck(this,Transform);this.reset()}_createClass(Transform,[{key:"reset",value:function reset(){this.m=[1,0,0,1,0,0]}},{key:"clone",value:function clone(){var transform=new Transform;transform.m[0]=this.m[0];transform.m[1]=this.m[1];transform.m[2]=this.m[2];transform.m[3]=this.m[3];transform.m[4]=this.m[4];transform.m[5]=this.m[5];return transform}},{key:"multiply",value:function multiply(matrix){var m11=this.m[0]*matrix.m[0]+this.m[2]*matrix.m[1],m12=this.m[1]*matrix.m[0]+this.m[3]*matrix.m[1],m21=this.m[0]*matrix.m[2]+this.m[2]*matrix.m[3],m22=this.m[1]*matrix.m[2]+this.m[3]*matrix.m[3],dx=this.m[0]*matrix.m[4]+this.m[2]*matrix.m[5]+this.m[4],dy=this.m[1]*matrix.m[4]+this.m[3]*matrix.m[5]+this.m[5];this.m[0]=m11;this.m[1]=m12;this.m[2]=m21;this.m[3]=m22;this.m[4]=dx;this.m[5]=dy}},{key:"invert",value:function invert(){var d=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),m0=this.m[3]*d,m1=-this.m[1]*d,m2=-this.m[2]*d,m3=this.m[0]*d,m4=d*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),m5=d*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=m0;this.m[1]=m1;this.m[2]=m2;this.m[3]=m3;this.m[4]=m4;this.m[5]=m5}},{key:"rotate",value:function rotate(rad){var c=_Mathcos(rad),s=Math.sin(rad),m11=this.m[0]*c+this.m[2]*s,m12=this.m[1]*c+this.m[3]*s,m21=this.m[0]*-s+this.m[2]*c,m22=this.m[1]*-s+this.m[3]*c;this.m[0]=m11;this.m[1]=m12;this.m[2]=m21;this.m[3]=m22}},{key:"translate",value:function translate(x,y){this.m[4]+=this.m[0]*x+this.m[2]*y;this.m[5]+=this.m[1]*x+this.m[3]*y}},{key:"scale",value:function scale(sx,sy){this.m[0]*=sx;this.m[1]*=sx;this.m[2]*=sy;this.m[3]*=sy}},{key:"transformPoint",value:function transformPoint(px,py){var x=px,y=py;px=x*this.m[0]+y*this.m[2]+this.m[4];py=x*this.m[1]+y*this.m[3]+this.m[5];return{x:px,y:py}}}]);return Transform}()},"./internal/tryEnableWebgl.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _webgl_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./webgl/index.js");__webpack_exports__["default"]=function(options){if(_webgl_index_js__WEBPACK_IMPORTED_MODULE_0__["default"].renderer.isWebGLAvailable()){_webgl_index_js__WEBPACK_IMPORTED_MODULE_0__["default"].renderer.initRenderer();options.renderer="webgl";return!0}console.error("WebGL not available, falling back to Canvas renderer");delete options.renderer;return!1}},"./internal/validator.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"validateParameterUndefined",function(){return validateParameterUndefined});__webpack_require__.d(__webpack_exports__,"validateParameterUndefinedOrNull",function(){return validateParameterUndefinedOrNull});function validateParameterUndefined(checkParam,errorMsg){if(void 0===checkParam){throw new Error(errorMsg)}}function validateParameterUndefinedOrNull(checkParam,errorMsg){if(void 0===checkParam||null===checkParam){throw new Error(errorMsg)}}},"./invalidate.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js"),_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./triggerEvent.js"),_events_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./events.js");__webpack_exports__["default"]=function(element){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElement)(element);enabledElement.invalid=!0;enabledElement.needsRedraw=!0;var eventData={element:element};Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__["default"])(element,_events_js__WEBPACK_IMPORTED_MODULE_2__["default"].INVALIDATED,eventData)}},"./invalidateImageId.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js"),_internal_drawImage_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/drawImage.js");__webpack_exports__["default"]=function(imageId){var enabledElements=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElementsByImageId)(imageId);enabledElements.forEach(function(enabledElement){Object(_internal_drawImage_js__WEBPACK_IMPORTED_MODULE_1__["default"])(enabledElement,!0)})}},"./layers.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"rescaleImage",function(){return rescaleImage});__webpack_require__.d(__webpack_exports__,"addLayer",function(){return addLayer});__webpack_require__.d(__webpack_exports__,"removeLayer",function(){return removeLayer});__webpack_require__.d(__webpack_exports__,"getLayer",function(){return getLayer});__webpack_require__.d(__webpack_exports__,"getLayers",function(){return getLayers});__webpack_require__.d(__webpack_exports__,"getVisibleLayers",function(){return getVisibleLayers});__webpack_require__.d(__webpack_exports__,"setActiveLayer",function(){return setActiveLayer});__webpack_require__.d(__webpack_exports__,"setLayerImage",function(){return setLayerImage});__webpack_require__.d(__webpack_exports__,"getActiveLayer",function(){return getActiveLayer});__webpack_require__.d(__webpack_exports__,"purgeLayers",function(){return purgeLayers});var _internal_guid_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./internal/guid.js"),_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./enabledElements.js"),_internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./internal/getDefaultViewport.js"),_updateImage_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./updateImage.js"),_triggerEvent_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./triggerEvent.js"),_events_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./events.js");function triggerEventForLayer(eventName,enabledElement,layerId){var element=enabledElement.element,eventData={viewport:enabledElement.viewport,element:enabledElement.element,image:enabledElement.image,enabledElement:enabledElement,layerId:layerId};Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_4__["default"])(element,eventName,eventData)}function rescaleImage(baseLayer,targetLayer){if(baseLayer.layerId===targetLayer.layerId){throw new Error("rescaleImage: both arguments represent the same layer")}var baseImage=baseLayer.image,targetImage=targetLayer.image;if(!baseImage.imageId||!targetImage.imageId){return}var colRelative=targetLayer.viewport.displayedArea.columnPixelSpacing*targetImage.width/(baseLayer.viewport.displayedArea.columnPixelSpacing*baseImage.width),viewportRatio=targetLayer.viewport.scale/baseLayer.viewport.scale*colRelative;targetLayer.viewport.scale=baseLayer.viewport.scale*viewportRatio}function addLayer(element,image,options){var layerId=Object(_internal_guid_js__WEBPACK_IMPORTED_MODULE_0__["default"])(),enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__.getEnabledElement)(element),layers=enabledElement.layers,viewport;if(image){viewport=Object(_internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_2__["default"])(enabledElement.canvas,image);if(options&&options.viewport){viewport=Object.assign(viewport,options.viewport)}}if(!1!==enabledElement.syncViewports){enabledElement.syncViewports=!0}var newLayer={image:image,layerId:layerId,viewport:viewport,options:options||{},renderingTools:{}};if(layers.length&&image){rescaleImage(layers[0],newLayer)}layers.push(newLayer);triggerEventForLayer(_events_js__WEBPACK_IMPORTED_MODULE_5__["default"].LAYER_ADDED,enabledElement,layerId);if(1===layers.length&&image){setActiveLayer(element,layerId)}return layerId}function removeLayer(element,layerId){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__.getEnabledElement)(element),layers=enabledElement.layers,index=enabledElement.layers.findIndex(function(layer){return layer.layerId===layerId});if(-1!==index){layers.splice(index,1);if(layerId===enabledElement.activeLayerId&&layers.length){setActiveLayer(element,layers[0].layerId)}triggerEventForLayer(_events_js__WEBPACK_IMPORTED_MODULE_5__["default"].LAYER_REMOVED,enabledElement,layerId)}}function getLayer(element,layerId){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__.getEnabledElement)(element);return enabledElement.layers.find(function(layer){return layer.layerId===layerId})}function getLayers(element){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__.getEnabledElement)(element);return enabledElement.layers}function getVisibleLayers(element){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__.getEnabledElement)(element);return enabledElement.layers.filter(function(layer){return layer.options&&!1!==layer.options.visible&&0!==layer.options.opacity})}function setActiveLayer(element,layerId){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__.getEnabledElement)(element);if(enabledElement.activeLayerId===layerId){return}var index=enabledElement.layers.findIndex(function(layer){return layer.layerId===layerId});if(-1===index){throw new Error("setActiveLayer: layer not found in layers array")}var layer=enabledElement.layers[index];if(!layer.image){throw new Error("setActiveLayer: layer with undefined image cannot be set as active.")}enabledElement.activeLayerId=layerId;enabledElement.image=layer.image;enabledElement.viewport=layer.viewport;Object(_updateImage_js__WEBPACK_IMPORTED_MODULE_3__["default"])(element);triggerEventForLayer(_events_js__WEBPACK_IMPORTED_MODULE_5__["default"].ACTIVE_LAYER_CHANGED,enabledElement,layerId)}function setLayerImage(element,image,layerId){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__.getEnabledElement)(element),baseLayer=enabledElement.layers[0],layer;if(layerId){layer=getLayer(element,layerId)}else{layer=getActiveLayer(element)}if(!layer){throw new Error("setLayerImage: Layer not found")}layer.image=image;if(!image){layer.viewport=void 0;return}if(!layer.viewport){var defaultViewport=Object(_internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_2__["default"])(enabledElement.canvas,image);if(layer.options&&layer.options.viewport){layer.viewport=Object.assign(defaultViewport,layer.options.viewport)}if(baseLayer.layerId!==layerId){rescaleImage(baseLayer,layer)}}}function getActiveLayer(element){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__.getEnabledElement)(element);return enabledElement.layers.find(function(layer){return layer.layerId===enabledElement.activeLayerId})}function purgeLayers(element){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__.getEnabledElement)(element);enabledElement.layers=[];delete enabledElement.activeLayerId;delete enabledElement.lastSyncViewportsState}},"./metaData.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"addProvider",function(){return addProvider});__webpack_require__.d(__webpack_exports__,"removeProvider",function(){return removeProvider});var providers=[];function addProvider(provider){var priority=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i;for(i=0;i<providers.length;i++){if(providers[i].priority<=priority){break}}providers.splice(i,0,{priority:priority,provider:provider})}function removeProvider(provider){for(var i=0;i<providers.length;i++){if(providers[i].provider===provider){providers.splice(i,1);break}}}function getMetaData(type,imageId){for(var i=0,result;i<providers.length;i++){result=providers[i].provider(type,imageId);if(void 0!==result){return result}}}__webpack_exports__["default"]={addProvider:addProvider,removeProvider:removeProvider,get:getMetaData}},"./pageToPixel.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js"),_internal_getTransform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/getTransform.js");__webpack_exports__["default"]=function(element,pageX,pageY){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElement)(element);if(void 0===enabledElement.image){throw new Error("image has not been loaded yet")}var rect=element.getBoundingClientRect(),clientX=pageX-rect.left-window.pageXOffset,clientY=pageY-rect.top-window.pageYOffset,pt={x:clientX,y:clientY},transform=Object(_internal_getTransform_js__WEBPACK_IMPORTED_MODULE_1__["default"])(enabledElement);transform.invert();return transform.transformPoint(pt.x,pt.y)}},"./pixelDataToFalseColorData.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return pixelDataToFalseColorData});var _colors_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./colors/index.js");function pixelDataToFalseColorData(image,lookupTable){if(image.color&&!image.falseColor){throw new Error("Color transforms are not implemented yet")}var minPixelValue=image.minPixelValue,canvasImageDataIndex=0,storedPixelDataIndex=0,numPixels=image.width*image.height,origPixelData=image.origPixelData||image.getPixelData(),storedColorPixelData=new Uint8Array(4*numPixels),sp,mapped;image.color=!0;image.falseColor=!0;image.origPixelData=origPixelData;if(lookupTable instanceof _colors_index_js__WEBPACK_IMPORTED_MODULE_0__["default"].LookupTable){lookupTable.build();while(storedPixelDataIndex<numPixels){sp=origPixelData[storedPixelDataIndex++];mapped=lookupTable.mapValue(sp);storedColorPixelData[canvasImageDataIndex++]=mapped[0];storedColorPixelData[canvasImageDataIndex++]=mapped[1];storedColorPixelData[canvasImageDataIndex++]=mapped[2];storedColorPixelData[canvasImageDataIndex++]=mapped[3]}}else if(0>minPixelValue){while(storedPixelDataIndex<numPixels){sp=origPixelData[storedPixelDataIndex++];storedColorPixelData[canvasImageDataIndex++]=lookupTable[sp+-minPixelValue][0];storedColorPixelData[canvasImageDataIndex++]=lookupTable[sp+-minPixelValue][1];storedColorPixelData[canvasImageDataIndex++]=lookupTable[sp+-minPixelValue][2];storedColorPixelData[canvasImageDataIndex++]=lookupTable[sp+-minPixelValue][3]}}else{while(storedPixelDataIndex<numPixels){sp=origPixelData[storedPixelDataIndex++];storedColorPixelData[canvasImageDataIndex++]=lookupTable[sp][0];storedColorPixelData[canvasImageDataIndex++]=lookupTable[sp][1];storedColorPixelData[canvasImageDataIndex++]=lookupTable[sp][2];storedColorPixelData[canvasImageDataIndex++]=lookupTable[sp][3]}}image.rgba=!0;image.cachedLut=void 0;image.render=void 0;image.slope=1;image.intercept=0;image.minPixelValue=0;image.maxPixelValue=255;image.windowWidth=255;image.windowCenter=128;image.getPixelData=function(){return storedColorPixelData}}},"./pixelToCanvas.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js"),_internal_getTransform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/getTransform.js");__webpack_exports__["default"]=function(element,pt){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElement)(element),transform=Object(_internal_getTransform_js__WEBPACK_IMPORTED_MODULE_1__["default"])(enabledElement);return transform.transformPoint(pt.x,pt.y)}},"./rendering/doesImageNeedToBeRendered.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]=function(enabledElement,image){var lastRenderedImageId=enabledElement.renderingTools.lastRenderedImageId,lastRenderedViewport=enabledElement.renderingTools.lastRenderedViewport;return image.imageId!==lastRenderedImageId||!lastRenderedViewport||lastRenderedViewport.windowCenter!==enabledElement.viewport.voi.windowCenter||lastRenderedViewport.windowWidth!==enabledElement.viewport.voi.windowWidth||lastRenderedViewport.invert!==enabledElement.viewport.invert||lastRenderedViewport.rotation!==enabledElement.viewport.rotation||lastRenderedViewport.hflip!==enabledElement.viewport.hflip||lastRenderedViewport.vflip!==enabledElement.viewport.vflip||lastRenderedViewport.modalityLUT!==enabledElement.viewport.modalityLUT||lastRenderedViewport.voiLUT!==enabledElement.viewport.voiLUT||lastRenderedViewport.colormap!==enabledElement.viewport.colormap}},"./rendering/getLut.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _internal_computeAutoVoi_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./internal/computeAutoVoi.js"),_lutMatches_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./rendering/lutMatches.js"),_internal_generateLut_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./internal/generateLut.js");__webpack_exports__["default"]=function(image,viewport,invalidated){if(void 0!==image.cachedLut&&image.cachedLut.windowCenter===viewport.voi.windowCenter&&image.cachedLut.windowWidth===viewport.voi.windowWidth&&Object(_lutMatches_js__WEBPACK_IMPORTED_MODULE_1__["default"])(image.cachedLut.modalityLUT,viewport.modalityLUT)&&Object(_lutMatches_js__WEBPACK_IMPORTED_MODULE_1__["default"])(image.cachedLut.voiLUT,viewport.voiLUT)&&image.cachedLut.invert===viewport.invert&&!0!==invalidated){return image.cachedLut.lutArray}Object(_internal_computeAutoVoi_js__WEBPACK_IMPORTED_MODULE_0__["default"])(viewport,image);Object(_internal_generateLut_js__WEBPACK_IMPORTED_MODULE_2__["default"])(image,viewport.voi.windowWidth,viewport.voi.windowCenter,viewport.invert,viewport.modalityLUT,viewport.voiLUT);image.cachedLut.windowWidth=viewport.voi.windowWidth;image.cachedLut.windowCenter=viewport.voi.windowCenter;image.cachedLut.invert=viewport.invert;image.cachedLut.voiLUT=viewport.voiLUT;image.cachedLut.modalityLUT=viewport.modalityLUT;return image.cachedLut.lutArray}},"./rendering/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _renderColorImage_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./rendering/renderColorImage.js"),_renderGrayscaleImage_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./rendering/renderGrayscaleImage.js"),_renderWebImage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./rendering/renderWebImage.js"),_renderPseudoColorImage_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./rendering/renderPseudoColorImage.js"),_renderLabelMapImage_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./rendering/renderLabelMapImage.js"),_renderToCanvas_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./rendering/renderToCanvas.js");__webpack_exports__["default"]={colorImage:_renderColorImage_js__WEBPACK_IMPORTED_MODULE_0__.renderColorImage,grayscaleImage:_renderGrayscaleImage_js__WEBPACK_IMPORTED_MODULE_1__.renderGrayscaleImage,webImage:_renderWebImage_js__WEBPACK_IMPORTED_MODULE_2__.renderWebImage,pseudoColorImage:_renderPseudoColorImage_js__WEBPACK_IMPORTED_MODULE_3__.renderPseudoColorImage,labelMapImage:_renderLabelMapImage_js__WEBPACK_IMPORTED_MODULE_4__.renderLabelMapImage,toCanvas:_renderToCanvas_js__WEBPACK_IMPORTED_MODULE_5__["default"]}},"./rendering/initializeRenderCanvas.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]=function(enabledElement,image){var renderCanvas=enabledElement.renderingTools.renderCanvas;renderCanvas.width=image.width;renderCanvas.height=image.height;var canvasContext=renderCanvas.getContext("2d");canvasContext.fillStyle="white";canvasContext.fillRect(0,0,renderCanvas.width,renderCanvas.height);var renderCanvasData=canvasContext.getImageData(0,0,image.width,image.height);enabledElement.renderingTools.renderCanvasContext=canvasContext;enabledElement.renderingTools.renderCanvasData=renderCanvasData}},"./rendering/lutMatches.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]=function(a,b){if(!a&&!b){return!0}if(!a||!b){return!1}return a.id===b.id}},"./rendering/renderColorImage.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"renderColorImage",function(){return renderColorImage});__webpack_require__.d(__webpack_exports__,"addColorLayer",function(){return addColorLayer});var _internal_now_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./internal/now.js"),_internal_generateColorLut_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/generateColorLut.js"),_internal_storedColorPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./internal/storedColorPixelDataToCanvasImageData.js"),_internal_storedRGBAPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./internal/storedRGBAPixelDataToCanvasImageData.js"),_setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./setToPixelCoordinateSystem.js"),_webgl_index_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./webgl/index.js"),_doesImageNeedToBeRendered_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./rendering/doesImageNeedToBeRendered.js"),_initializeRenderCanvas_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./rendering/initializeRenderCanvas.js"),_saveLastRendered_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./rendering/saveLastRendered.js");function getLut(image,viewport){if(void 0!==image.cachedLut&&image.cachedLut.windowCenter===viewport.voi.windowCenter&&image.cachedLut.windowWidth===viewport.voi.windowWidth&&image.cachedLut.invert===viewport.invert){return image.cachedLut.lutArray}Object(_internal_generateColorLut_js__WEBPACK_IMPORTED_MODULE_1__["default"])(image,viewport.voi.windowWidth,viewport.voi.windowCenter,viewport.invert);image.cachedLut.windowWidth=viewport.voi.windowWidth;image.cachedLut.windowCenter=viewport.voi.windowCenter;image.cachedLut.invert=viewport.invert;return image.cachedLut.lutArray}function getRenderCanvas(enabledElement,image,invalidated){var canvasWasColor=!0===enabledElement.renderingTools.lastRenderedIsColor;if(!enabledElement.renderingTools.renderCanvas||!canvasWasColor){enabledElement.renderingTools.renderCanvas=document.createElement("canvas")}var renderCanvas=enabledElement.renderingTools.renderCanvas;if(255===enabledElement.viewport.voi.windowWidth&&128===enabledElement.viewport.voi.windowCenter&&!1===enabledElement.viewport.invert&&image.getCanvas&&image.getCanvas()){return image.getCanvas()}if(!1===Object(_doesImageNeedToBeRendered_js__WEBPACK_IMPORTED_MODULE_6__["default"])(enabledElement,image)&&!0!==invalidated){return renderCanvas}if(renderCanvas.width!==image.width||renderCanvas.height!==image.height){Object(_initializeRenderCanvas_js__WEBPACK_IMPORTED_MODULE_7__["default"])(enabledElement,image)}var start=Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])(),colorLut=getLut(image,enabledElement.viewport);image.stats=image.stats||{};image.stats.lastLutGenerateTime=Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])()-start;var renderCanvasData=enabledElement.renderingTools.renderCanvasData,renderCanvasContext=enabledElement.renderingTools.renderCanvasContext;if(image.rgba){Object(_internal_storedRGBAPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_3__["default"])(image,colorLut,renderCanvasData.data)}else{Object(_internal_storedColorPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_2__["default"])(image,colorLut,renderCanvasData.data)}start=Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])();renderCanvasContext.putImageData(renderCanvasData,0,0);image.stats.lastPutImageDataTime=Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_0__["default"])()-start;return renderCanvas}function renderColorImage(enabledElement,invalidated){if(void 0===enabledElement){throw new Error("renderColorImage: enabledElement parameter must not be undefined")}var image=enabledElement.image;if(void 0===image){throw new Error("renderColorImage: image must be loaded before it can be drawn")}var context=enabledElement.canvas.getContext("2d");context.setTransform(1,0,0,1,0,0);context.fillStyle="black";context.fillRect(0,0,enabledElement.canvas.width,enabledElement.canvas.height);context.imageSmoothingEnabled=!enabledElement.viewport.pixelReplication;context.mozImageSmoothingEnabled=context.imageSmoothingEnabled;Object(_setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_4__["default"])(enabledElement,context);var renderCanvas;if(enabledElement.options&&enabledElement.options.renderer&&"webgl"===enabledElement.options.renderer.toLowerCase()){renderCanvas=_webgl_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].renderer.render(enabledElement)}else{renderCanvas=getRenderCanvas(enabledElement,image,invalidated)}var sx=enabledElement.viewport.displayedArea.tlhc.x-1,sy=enabledElement.viewport.displayedArea.tlhc.y-1,width=enabledElement.viewport.displayedArea.brhc.x-sx,height=enabledElement.viewport.displayedArea.brhc.y-sy;context.drawImage(renderCanvas,sx,sy,width,height,0,0,width,height);enabledElement.renderingTools=Object(_saveLastRendered_js__WEBPACK_IMPORTED_MODULE_8__["default"])(enabledElement)}function addColorLayer(layer,invalidated){if(void 0===layer){throw new Error("addColorLayer: layer parameter must not be undefined")}var image=layer.image;if(void 0===image){throw new Error("addColorLayer: image must be loaded before it can be drawn")}image.rgba=!0;layer.canvas=getRenderCanvas(layer,image,invalidated);var context=layer.canvas.getContext("2d");context.imageSmoothingEnabled=!layer.viewport.pixelReplication;context.mozImageSmoothingEnabled=context.imageSmoothingEnabled;layer.renderingTools=Object(_saveLastRendered_js__WEBPACK_IMPORTED_MODULE_8__["default"])(layer)}},"./rendering/renderGrayscaleImage.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"renderGrayscaleImage",function(){return renderGrayscaleImage});__webpack_require__.d(__webpack_exports__,"addGrayscaleLayer",function(){return addGrayscaleLayer});var _internal_storedPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./internal/storedPixelDataToCanvasImageData.js"),_internal_storedPixelDataToCanvasImageDataRGBA_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/storedPixelDataToCanvasImageDataRGBA.js"),_setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./setToPixelCoordinateSystem.js"),_internal_now_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./internal/now.js"),_webgl_index_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./webgl/index.js"),_getLut_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./rendering/getLut.js"),_doesImageNeedToBeRendered_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./rendering/doesImageNeedToBeRendered.js"),_initializeRenderCanvas_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./rendering/initializeRenderCanvas.js"),_saveLastRendered_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./rendering/saveLastRendered.js");function getRenderCanvas(enabledElement,image,invalidated){var useAlphaChannel=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0,canvasWasColor=!0===enabledElement.renderingTools.lastRenderedIsColor;if(!enabledElement.renderingTools.renderCanvas||canvasWasColor){enabledElement.renderingTools.renderCanvas=document.createElement("canvas");Object(_initializeRenderCanvas_js__WEBPACK_IMPORTED_MODULE_7__["default"])(enabledElement,image)}var renderCanvas=enabledElement.renderingTools.renderCanvas;if(!1===Object(_doesImageNeedToBeRendered_js__WEBPACK_IMPORTED_MODULE_6__["default"])(enabledElement,image)&&!0!==invalidated){return renderCanvas}if(renderCanvas.width!==image.width||renderCanvas.height!==image.height){Object(_initializeRenderCanvas_js__WEBPACK_IMPORTED_MODULE_7__["default"])(enabledElement,image)}var start=Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_3__["default"])(),lut=Object(_getLut_js__WEBPACK_IMPORTED_MODULE_5__["default"])(image,enabledElement.viewport,invalidated);image.stats=image.stats||{};image.stats.lastLutGenerateTime=Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_3__["default"])()-start;var renderCanvasData=enabledElement.renderingTools.renderCanvasData,renderCanvasContext=enabledElement.renderingTools.renderCanvasContext;if(useAlphaChannel){Object(_internal_storedPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_0__["default"])(image,lut,renderCanvasData.data)}else{Object(_internal_storedPixelDataToCanvasImageDataRGBA_js__WEBPACK_IMPORTED_MODULE_1__["default"])(image,lut,renderCanvasData.data)}start=Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_3__["default"])();renderCanvasContext.putImageData(renderCanvasData,0,0);image.stats.lastPutImageDataTime=Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_3__["default"])()-start;return renderCanvas}function renderGrayscaleImage(enabledElement,invalidated){if(void 0===enabledElement){throw new Error("drawImage: enabledElement parameter must not be undefined")}var image=enabledElement.image;if(void 0===image){throw new Error("drawImage: image must be loaded before it can be drawn")}var context=enabledElement.canvas.getContext("2d");context.setTransform(1,0,0,1,0,0);context.fillStyle="black";context.fillRect(0,0,enabledElement.canvas.width,enabledElement.canvas.height);context.imageSmoothingEnabled=!enabledElement.viewport.pixelReplication;context.mozImageSmoothingEnabled=context.imageSmoothingEnabled;Object(_setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_2__["default"])(enabledElement,context);var renderCanvas;if(enabledElement.options&&enabledElement.options.renderer&&"webgl"===enabledElement.options.renderer.toLowerCase()){renderCanvas=_webgl_index_js__WEBPACK_IMPORTED_MODULE_4__["default"].renderer.render(enabledElement)}else{renderCanvas=getRenderCanvas(enabledElement,image,invalidated)}var sx=enabledElement.viewport.displayedArea.tlhc.x-1,sy=enabledElement.viewport.displayedArea.tlhc.y-1,width=enabledElement.viewport.displayedArea.brhc.x-sx,height=enabledElement.viewport.displayedArea.brhc.y-sy;context.drawImage(renderCanvas,sx,sy,width,height,0,0,width,height);enabledElement.renderingTools=Object(_saveLastRendered_js__WEBPACK_IMPORTED_MODULE_8__["default"])(enabledElement)}function addGrayscaleLayer(layer,invalidated){var useAlphaChannel=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(void 0===layer){throw new Error("addGrayscaleLayer: layer parameter must not be undefined")}var image=layer.image;if(void 0===image){throw new Error("addGrayscaleLayer: image must be loaded before it can be drawn")}layer.canvas=getRenderCanvas(layer,image,invalidated,useAlphaChannel);var context=layer.canvas.getContext("2d");context.imageSmoothingEnabled=!layer.viewport.pixelReplication;context.mozImageSmoothingEnabled=context.imageSmoothingEnabled;layer.renderingTools=Object(_saveLastRendered_js__WEBPACK_IMPORTED_MODULE_8__["default"])(layer)}},"./rendering/renderLabelMapImage.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"renderLabelMapImage",function(){return renderLabelMapImage});__webpack_require__.d(__webpack_exports__,"addLabelMapLayer",function(){return addLabelMapLayer});var _setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./setToPixelCoordinateSystem.js"),_internal_now_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/now.js"),_initializeRenderCanvas_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./rendering/initializeRenderCanvas.js"),_saveLastRendered_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./rendering/saveLastRendered.js"),_doesImageNeedToBeRendered_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./rendering/doesImageNeedToBeRendered.js"),_internal_storedPixelDataToCanvasImageDataColorLUT_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./internal/storedPixelDataToCanvasImageDataColorLUT.js"),_colors_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./colors/index.js");function getRenderCanvas(enabledElement,image,invalidated){if(!enabledElement.renderingTools.renderCanvas){enabledElement.renderingTools.renderCanvas=document.createElement("canvas")}var renderCanvas=enabledElement.renderingTools.renderCanvas,colormap=enabledElement.viewport.colormap||enabledElement.options.colormap;if(enabledElement.options.colormap){console.warn("enabledElement.options.colormap is deprecated. Use enabledElement.viewport.colormap instead")}if(colormap&&"string"===typeof colormap){colormap=_colors_index_js__WEBPACK_IMPORTED_MODULE_6__["default"].getColormap(colormap)}if(!colormap){throw new Error("renderLabelMapImage: colormap not found.")}var colormapId=colormap.getId();if(!1===Object(_doesImageNeedToBeRendered_js__WEBPACK_IMPORTED_MODULE_4__["default"])(enabledElement,image)&&!0!==invalidated&&enabledElement.renderingTools.colormapId===colormapId){return renderCanvas}if(renderCanvas.width!==image.width||renderCanvas.height!==image.height){Object(_initializeRenderCanvas_js__WEBPACK_IMPORTED_MODULE_2__["default"])(enabledElement,image)}var start=Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_1__["default"])();if(!enabledElement.renderingTools.colorLut||invalidated||enabledElement.renderingTools.colormapId!==colormapId){enabledElement.renderingTools.colorLut=colormap.createLookupTable();enabledElement.renderingTools.colormapId=colormapId}image.stats=image.stats||{};image.stats.lastLutGenerateTime=Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_1__["default"])()-start;var colorLut=enabledElement.renderingTools.colorLut,renderCanvasData=enabledElement.renderingTools.renderCanvasData,renderCanvasContext=enabledElement.renderingTools.renderCanvasContext;Object(_internal_storedPixelDataToCanvasImageDataColorLUT_js__WEBPACK_IMPORTED_MODULE_5__["default"])(image,colorLut,renderCanvasData.data);start=Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_1__["default"])();renderCanvasContext.putImageData(renderCanvasData,0,0);image.stats.lastPutImageDataTime=Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_1__["default"])()-start;return renderCanvas}function renderLabelMapImage(enabledElement,invalidated){if(void 0===enabledElement){throw new Error("renderLabelMapImage: enabledElement parameter must not be undefined")}var image=enabledElement.image;if(void 0===image){throw new Error("renderLabelMapImage: image must be loaded before it can be drawn")}var context=enabledElement.canvas.getContext("2d");context.setTransform(1,0,0,1,0,0);context.fillStyle="black";context.fillRect(0,0,enabledElement.canvas.width,enabledElement.canvas.height);context.imageSmoothingEnabled=!enabledElement.viewport.pixelReplication;context.mozImageSmoothingEnabled=context.imageSmoothingEnabled;Object(_setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_0__["default"])(enabledElement,context);var renderCanvas=getRenderCanvas(enabledElement,image,invalidated),sx=enabledElement.viewport.displayedArea.tlhc.x-1,sy=enabledElement.viewport.displayedArea.tlhc.y-1,width=enabledElement.viewport.displayedArea.brhc.x-sx,height=enabledElement.viewport.displayedArea.brhc.y-sy;context.drawImage(renderCanvas,sx,sy,width,height,0,0,width,height);enabledElement.renderingTools=Object(_saveLastRendered_js__WEBPACK_IMPORTED_MODULE_3__["default"])(enabledElement)}function addLabelMapLayer(layer,invalidated){if(void 0===layer){throw new Error("addLabelMapLayer: layer parameter must not be undefined")}var image=layer.image;if(void 0===image){throw new Error("addLabelMapLayer: image must be loaded before it can be drawn")}layer.canvas=getRenderCanvas(layer,image,invalidated);var context=layer.canvas.getContext("2d");context.imageSmoothingEnabled=!layer.viewport.pixelReplication;context.mozImageSmoothingEnabled=context.imageSmoothingEnabled;layer.renderingTools=Object(_saveLastRendered_js__WEBPACK_IMPORTED_MODULE_3__["default"])(layer)}},"./rendering/renderPseudoColorImage.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"renderPseudoColorImage",function(){return renderPseudoColorImage});__webpack_require__.d(__webpack_exports__,"addPseudoColorLayer",function(){return addPseudoColorLayer});var _setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./setToPixelCoordinateSystem.js"),_internal_now_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/now.js"),_initializeRenderCanvas_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./rendering/initializeRenderCanvas.js"),_getLut_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./rendering/getLut.js"),_saveLastRendered_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./rendering/saveLastRendered.js"),_doesImageNeedToBeRendered_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./rendering/doesImageNeedToBeRendered.js"),_internal_storedPixelDataToCanvasImageDataPseudocolorLUT_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js"),_colors_index_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./colors/index.js");function getRenderCanvas(enabledElement,image,invalidated){if(!enabledElement.renderingTools.renderCanvas){enabledElement.renderingTools.renderCanvas=document.createElement("canvas")}var renderCanvas=enabledElement.renderingTools.renderCanvas,colormap=enabledElement.viewport.colormap||enabledElement.options.colormap;if(enabledElement.options.colormap){console.warn("enabledElement.options.colormap is deprecated. Use enabledElement.viewport.colormap instead")}if(colormap&&"string"===typeof colormap){colormap=_colors_index_js__WEBPACK_IMPORTED_MODULE_7__["default"].getColormap(colormap)}if(!colormap){throw new Error("renderPseudoColorImage: colormap not found.")}var colormapId=colormap.getId();if(!1===Object(_doesImageNeedToBeRendered_js__WEBPACK_IMPORTED_MODULE_5__["default"])(enabledElement,image)&&!0!==invalidated&&enabledElement.renderingTools.colormapId===colormapId){return renderCanvas}if(renderCanvas.width!==image.width||renderCanvas.height!==image.height){Object(_initializeRenderCanvas_js__WEBPACK_IMPORTED_MODULE_2__["default"])(enabledElement,image)}var start=Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_1__["default"])();if(!enabledElement.renderingTools.colorLut||invalidated||enabledElement.renderingTools.colormapId!==colormapId){colormap.setNumberOfColors(256);enabledElement.renderingTools.colorLut=colormap.createLookupTable();enabledElement.renderingTools.colormapId=colormapId}var lut=Object(_getLut_js__WEBPACK_IMPORTED_MODULE_3__["default"])(image,enabledElement.viewport,invalidated);image.stats=image.stats||{};image.stats.lastLutGenerateTime=Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_1__["default"])()-start;var colorLut=enabledElement.renderingTools.colorLut,renderCanvasData=enabledElement.renderingTools.renderCanvasData,renderCanvasContext=enabledElement.renderingTools.renderCanvasContext;Object(_internal_storedPixelDataToCanvasImageDataPseudocolorLUT_js__WEBPACK_IMPORTED_MODULE_6__["default"])(image,lut,colorLut,renderCanvasData.data);start=Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_1__["default"])();renderCanvasContext.putImageData(renderCanvasData,0,0);image.stats.lastPutImageDataTime=Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_1__["default"])()-start;return renderCanvas}function renderPseudoColorImage(enabledElement,invalidated){if(void 0===enabledElement){throw new Error("drawImage: enabledElement parameter must not be undefined")}var image=enabledElement.image;if(void 0===image){throw new Error("drawImage: image must be loaded before it can be drawn")}var context=enabledElement.canvas.getContext("2d");context.setTransform(1,0,0,1,0,0);context.fillStyle="black";context.fillRect(0,0,enabledElement.canvas.width,enabledElement.canvas.height);context.imageSmoothingEnabled=!enabledElement.viewport.pixelReplication;context.mozImageSmoothingEnabled=context.imageSmoothingEnabled;Object(_setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_0__["default"])(enabledElement,context);var renderCanvas=getRenderCanvas(enabledElement,image,invalidated),sx=enabledElement.viewport.displayedArea.tlhc.x-1,sy=enabledElement.viewport.displayedArea.tlhc.y-1,width=enabledElement.viewport.displayedArea.brhc.x-sx,height=enabledElement.viewport.displayedArea.brhc.y-sy;context.drawImage(renderCanvas,sx,sy,width,height,0,0,width,height);enabledElement.renderingTools=Object(_saveLastRendered_js__WEBPACK_IMPORTED_MODULE_4__["default"])(enabledElement)}function addPseudoColorLayer(layer,invalidated){if(void 0===layer){throw new Error("addPseudoColorLayer: layer parameter must not be undefined")}var image=layer.image;if(void 0===image){throw new Error("addPseudoColorLayer: image must be loaded before it can be drawn")}layer.canvas=getRenderCanvas(layer,image,invalidated);var context=layer.canvas.getContext("2d");context.imageSmoothingEnabled=!layer.viewport.pixelReplication;context.mozImageSmoothingEnabled=context.imageSmoothingEnabled;layer.renderingTools=Object(_saveLastRendered_js__WEBPACK_IMPORTED_MODULE_4__["default"])(layer)}},"./rendering/renderToCanvas.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _triggerEvent_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./triggerEvent.js"),_events_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./events.js"),_internal_drawImageSync_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./internal/drawImageSync.js"),_internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./internal/getDefaultViewport.js"),_internal_tryEnableWebgl_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./internal/tryEnableWebgl.js");function createEnabledElementStub(canvas,image,options,viewport){return{element:canvas,canvas:canvas,image:image,invalid:!0,needsRedraw:!0,options:options,layers:[],data:{},renderingTools:{},viewport:viewport}}__webpack_exports__["default"]=function(canvas,image){var viewport=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,options=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;if(void 0===canvas){throw new Error("renderToCanvas: parameter canvas cannot be undefined")}if(options&&options.renderer&&"webgl"===options.renderer.toLowerCase()){Object(_internal_tryEnableWebgl_js__WEBPACK_IMPORTED_MODULE_4__["default"])(options)}var defaultViewport=Object(_internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_3__["default"])(canvas,image);if(viewport){Object.assign(defaultViewport,viewport)}var enabledElementStub=createEnabledElementStub(canvas,image,options,defaultViewport),eventDetails={enabledElement:enabledElementStub,timestamp:Date.now()};Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_0__["default"])(enabledElementStub.element,_events_js__WEBPACK_IMPORTED_MODULE_1__["default"].PRE_RENDER,eventDetails);Object(_internal_drawImageSync_js__WEBPACK_IMPORTED_MODULE_2__["default"])(enabledElementStub,enabledElementStub.invalid)}},"./rendering/renderWebImage.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"renderWebImage",function(){return renderWebImage});var _setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./setToPixelCoordinateSystem.js"),_renderColorImage_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./rendering/renderColorImage.js");function renderWebImage(enabledElement,invalidated){if(void 0===enabledElement){throw new Error("renderWebImage: enabledElement parameter must not be undefined")}var image=enabledElement.image;if(void 0===image){throw new Error("renderWebImage: image must be loaded before it can be drawn")}if(enabledElement.viewport.voi.windowWidth===enabledElement.image.windowWidth&&enabledElement.viewport.voi.windowCenter===enabledElement.image.windowCenter&&!1===enabledElement.viewport.invert){var context=enabledElement.canvas.getContext("2d");context.setTransform(1,0,0,1,0,0);context.fillStyle="black";context.fillRect(0,0,enabledElement.canvas.width,enabledElement.canvas.height);context.imageSmoothingEnabled=!enabledElement.viewport.pixelReplication;context.mozImageSmoothingEnabled=context.imageSmoothingEnabled;Object(_setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_0__["default"])(enabledElement,context);var sx=enabledElement.viewport.displayedArea.tlhc.x-1,sy=enabledElement.viewport.displayedArea.tlhc.y-1,width=enabledElement.viewport.displayedArea.brhc.x-sx,height=enabledElement.viewport.displayedArea.brhc.y-sy;context.drawImage(image.getImage(),sx,sy,width,height,0,0,width,height)}else{Object(_renderColorImage_js__WEBPACK_IMPORTED_MODULE_1__.renderColorImage)(enabledElement,invalidated)}}},"./rendering/saveLastRendered.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]=function(enabledElement){var imageId=enabledElement.image.imageId,viewport=enabledElement.viewport,isColor=enabledElement.image.color;enabledElement.renderingTools.lastRenderedImageId=imageId;enabledElement.renderingTools.lastRenderedIsColor=isColor;enabledElement.renderingTools.lastRenderedViewport={windowCenter:viewport.voi.windowCenter,windowWidth:viewport.voi.windowWidth,invert:viewport.invert,rotation:viewport.rotation,hflip:viewport.hflip,vflip:viewport.vflip,modalityLUT:viewport.modalityLUT,voiLUT:viewport.voiLUT,colormap:viewport.colormap};return enabledElement.renderingTools}},"./reset.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js"),_internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/getDefaultViewport.js"),_updateImage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./updateImage.js");__webpack_exports__["default"]=function(element){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElement)(element);enabledElement.viewport=Object(_internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_1__["default"])(enabledElement.canvas,enabledElement.image);Object(_updateImage_js__WEBPACK_IMPORTED_MODULE_2__["default"])(element)}},"./resize.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js"),_fitToWindow_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./fitToWindow.js"),_updateImage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./updateImage.js"),_triggerEvent_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./triggerEvent.js"),_internal_getImageSize_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./internal/getImageSize.js"),_events_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./events.js");function setCanvasSize(element,canvas){if(canvas.width!==element.clientWidth){canvas.width=element.clientWidth;canvas.style.width="".concat(element.clientWidth,"px")}if(canvas.height!==element.clientHeight){canvas.height=element.clientHeight;canvas.style.height="".concat(element.clientHeight,"px")}}function wasFitToWindow(enabledElement,oldCanvasWidth,oldCanvasHeight){var scale=enabledElement.viewport.scale,imageSize=Object(_internal_getImageSize_js__WEBPACK_IMPORTED_MODULE_4__["default"])(enabledElement.image,enabledElement.viewport.rotation),imageWidth=_Mathround(imageSize.width*scale),imageHeight=_Mathround(imageSize.height*scale),x=enabledElement.viewport.translation.x,y=enabledElement.viewport.translation.y;return imageWidth===oldCanvasWidth&&imageHeight<=oldCanvasHeight||imageWidth<=oldCanvasWidth&&imageHeight===oldCanvasHeight&&0===x&&0===y}function relativeRescale(enabledElement,oldCanvasWidth,oldCanvasHeight){var scale=enabledElement.viewport.scale,canvasWidth=enabledElement.canvas.width,canvasHeight=enabledElement.canvas.height,relWidthChange=canvasWidth/oldCanvasWidth,relHeightChange=canvasHeight/oldCanvasHeight,relChange=_Mathsqrt(relWidthChange*relHeightChange);enabledElement.viewport.scale=relChange*scale}__webpack_exports__["default"]=function(element,forceFitToWindow){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElement)(element),oldCanvasWidth=enabledElement.canvas.width,oldCanvasHeight=enabledElement.canvas.height;setCanvasSize(element,enabledElement.canvas);var eventData={element:element};Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_3__["default"])(element,_events_js__WEBPACK_IMPORTED_MODULE_5__["default"].ELEMENT_RESIZED,eventData);if(void 0===enabledElement.image){return}if(forceFitToWindow||wasFitToWindow(enabledElement,oldCanvasWidth,oldCanvasHeight)){Object(_fitToWindow_js__WEBPACK_IMPORTED_MODULE_1__["default"])(element)}else{relativeRescale(enabledElement,oldCanvasWidth,oldCanvasHeight);Object(_updateImage_js__WEBPACK_IMPORTED_MODULE_2__["default"])(element)}}},"./setToPixelCoordinateSystem.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _internal_calculateTransform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./internal/calculateTransform.js");__webpack_exports__["default"]=function(enabledElement,context,scale){if(void 0===enabledElement){throw new Error("setToPixelCoordinateSystem: parameter enabledElement must not be undefined")}if(void 0===context){throw new Error("setToPixelCoordinateSystem: parameter context must not be undefined")}var transform=Object(_internal_calculateTransform_js__WEBPACK_IMPORTED_MODULE_0__["default"])(enabledElement,scale);context.setTransform(transform.m[0],transform.m[1],transform.m[2],transform.m[3],transform.m[4],transform.m[5])}},"./setViewport.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./internal/getDefaultViewport.js"),_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./enabledElements.js"),_updateImage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./updateImage.js"),MIN_WINDOW_WIDTH=1e-6,MIN_VIEWPORT_SCALE=1e-4;__webpack_exports__["default"]=function(element,viewport){var enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__.getEnabledElement)(element);if(void 0===enabledElement.viewport){enabledElement.viewport=Object(_internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_0__["default"])(enabledElement.canvas)}if(viewport){for(var attrname in viewport){if(null!==viewport[attrname]){enabledElement.viewport[attrname]=viewport[attrname]}}}if(enabledElement.viewport.voi.windowWidth){enabledElement.viewport.voi.windowWidth=_Mathmax(viewport.voi.windowWidth,MIN_WINDOW_WIDTH)}if(enabledElement.viewport.scale){enabledElement.viewport.scale=_Mathmax(viewport.scale,MIN_VIEWPORT_SCALE)}enabledElement.viewport.rotation%=360;if(0>enabledElement.viewport.rotation){enabledElement.viewport.rotation+=360}if(enabledElement.image){Object(_updateImage_js__WEBPACK_IMPORTED_MODULE_2__["default"])(element)}}},"./triggerEvent.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return triggerEvent});function triggerEvent(el,type){var detail=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,event;if("function"===typeof window.CustomEvent){event=new CustomEvent(type,{detail:detail,cancelable:!0})}else{event=document.createEvent("CustomEvent");event.initCustomEvent(type,!0,!0,detail)}return el.dispatchEvent(event)}},"./updateImage.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./enabledElements.js"),_internal_drawImage_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./internal/drawImage.js");__webpack_exports__["default"]=function(element){var invalidated=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,enabledElement=Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__.getEnabledElement)(element);if(void 0===enabledElement.image&&!enabledElement.layers.length){throw new Error("updateImage: image has not been loaded yet")}Object(_internal_drawImage_js__WEBPACK_IMPORTED_MODULE_1__["default"])(enabledElement,invalidated)}},"./webgl/createProgramFromString.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);function compileShader(gl,shaderSource,shaderType){var shader=gl.createShader(shaderType);gl.shaderSource(shader,shaderSource);gl.compileShader(shader);var success=gl.getShaderParameter(shader,gl.COMPILE_STATUS);if(!success&&!gl.isContextLost()){var infoLog=gl.getShaderInfoLog(shader);console.error("Could not compile shader:\n".concat(infoLog))}return shader}function createProgram(gl,vertexShader,fragmentShader){var program=gl.createProgram();gl.attachShader(program,vertexShader);gl.attachShader(program,fragmentShader);gl.linkProgram(program);var success=gl.getProgramParameter(program,gl.LINK_STATUS);if(!success&&!gl.isContextLost()){var infoLog=gl.getProgramInfoLog(program);console.error("WebGL program filed to link:\n".concat(infoLog))}return program}__webpack_exports__["default"]=function(gl,vertexShaderSrc,fragShaderSrc){var vertexShader=compileShader(gl,vertexShaderSrc,gl.VERTEX_SHADER),fragShader=compileShader(gl,fragShaderSrc,gl.FRAGMENT_SHADER);return createProgram(gl,vertexShader,fragShader)}},"./webgl/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _renderer_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./webgl/renderer.js"),_createProgramFromString_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./webgl/createProgramFromString.js"),_textureCache_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./webgl/textureCache.js"),mod={createProgramFromString:_createProgramFromString_js__WEBPACK_IMPORTED_MODULE_1__["default"],renderer:{render:_renderer_js__WEBPACK_IMPORTED_MODULE_0__.render,initRenderer:_renderer_js__WEBPACK_IMPORTED_MODULE_0__.initRenderer,getRenderCanvas:_renderer_js__WEBPACK_IMPORTED_MODULE_0__.getRenderCanvas,isWebGLAvailable:_renderer_js__WEBPACK_IMPORTED_MODULE_0__.isWebGLAvailable},textureCache:_textureCache_js__WEBPACK_IMPORTED_MODULE_2__["default"]};Object.defineProperty(mod,"isWebGLInitialized",{enumerable:!0,configurable:!1,get:function get(){return _renderer_js__WEBPACK_IMPORTED_MODULE_0__.isWebGLInitialized}});__webpack_exports__["default"]=mod},"./webgl/renderer.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"isWebGLInitialized",function(){return isWebGLInitialized});__webpack_require__.d(__webpack_exports__,"getRenderCanvas",function(){return getRenderCanvas});__webpack_require__.d(__webpack_exports__,"initRenderer",function(){return initRenderer});__webpack_require__.d(__webpack_exports__,"render",function(){return render});__webpack_require__.d(__webpack_exports__,"isWebGLAvailable",function(){return isWebGLAvailable});var _shaders_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./webgl/shaders/index.js"),_vertexShader_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./webgl/vertexShader.js"),_textureCache_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./webgl/textureCache.js"),_createProgramFromString_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./webgl/createProgramFromString.js"),renderCanvas=document.createElement("canvas"),gl,texCoordBuffer,positionBuffer,isWebGLInitialized=!1;function getRenderCanvas(){return renderCanvas}function initShaders(){for(var id in _shaders_index_js__WEBPACK_IMPORTED_MODULE_0__.shaders){var shader=_shaders_index_js__WEBPACK_IMPORTED_MODULE_0__.shaders[id];shader.attributes={};shader.uniforms={};shader.vert=_vertexShader_js__WEBPACK_IMPORTED_MODULE_1__.vertexShader;shader.program=Object(_createProgramFromString_js__WEBPACK_IMPORTED_MODULE_3__["default"])(gl,shader.vert,shader.frag);shader.attributes.texCoordLocation=gl.getAttribLocation(shader.program,"a_texCoord");gl.enableVertexAttribArray(shader.attributes.texCoordLocation);shader.attributes.positionLocation=gl.getAttribLocation(shader.program,"a_position");gl.enableVertexAttribArray(shader.attributes.positionLocation);shader.uniforms.resolutionLocation=gl.getUniformLocation(shader.program,"u_resolution")}}function initRenderer(){if(!0===isWebGLInitialized){return}if(initWebGL(renderCanvas)){initBuffers();initShaders();isWebGLInitialized=!0}}function updateRectangle(gl,width,height){gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([width,height,0,height,width,0,0,0]),gl.STATIC_DRAW)}function handleLostContext(event){event.preventDefault();console.warn("WebGL Context Lost!")}function handleRestoredContext(event){event.preventDefault();isWebGLInitialized=!1;_textureCache_js__WEBPACK_IMPORTED_MODULE_2__["default"].purgeCache();initRenderer()}function initWebGL(canvas){gl=null;try{var options={preserveDrawingBuffer:!0};gl=canvas.getContext("webgl",options)||canvas.getContext("experimental-webgl",options);canvas.removeEventListener("webglcontextlost",handleLostContext,!1);canvas.addEventListener("webglcontextlost",handleLostContext,!1);canvas.removeEventListener("webglcontextrestored",handleRestoredContext,!1);canvas.addEventListener("webglcontextrestored",handleRestoredContext,!1)}catch(error){throw new Error("Error creating WebGL context")}if(!gl){console.error("Unable to initialize WebGL. Your browser may not support it.");gl=null}return gl}function getImageDataType(image){if(image.color){return"rgb"}var pixelData=image.getPixelData();if(pixelData instanceof Int16Array){return"int16"}if(pixelData instanceof Uint16Array){return"uint16"}if(pixelData instanceof Int8Array){return"int8"}return"uint8"}function getShaderProgram(image){var datatype=getImageDataType(image);if(_shaders_index_js__WEBPACK_IMPORTED_MODULE_0__.shaders.hasOwnProperty(datatype)){return _shaders_index_js__WEBPACK_IMPORTED_MODULE_0__.shaders[datatype]}return _shaders_index_js__WEBPACK_IMPORTED_MODULE_0__.shaders.rgb}function generateTexture(image){var TEXTURE_FORMAT={uint8:gl.LUMINANCE,int8:gl.LUMINANCE_ALPHA,uint16:gl.LUMINANCE_ALPHA,int16:gl.RGB,rgb:gl.RGB},TEXTURE_BYTES={int8:1,uint16:2,int16:3,rgb:3},imageDataType=getImageDataType(image),format=TEXTURE_FORMAT[imageDataType],texture=gl.createTexture();gl.bindTexture(gl.TEXTURE_2D,texture);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.NEAREST);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.NEAREST);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.CLAMP_TO_EDGE);gl.pixelStorei(gl.UNPACK_ALIGNMENT,1);var imageData=_shaders_index_js__WEBPACK_IMPORTED_MODULE_0__.dataUtilities[imageDataType].storedPixelDataToImageData(image,image.width,image.height);gl.texImage2D(gl.TEXTURE_2D,0,format,image.width,image.height,0,format,gl.UNSIGNED_BYTE,imageData);var sizeInBytes=image.width*image.height*TEXTURE_BYTES[imageDataType];return{texture:texture,sizeInBytes:sizeInBytes}}function getImageTexture(image){var imageTexture=_textureCache_js__WEBPACK_IMPORTED_MODULE_2__["default"].getImageTexture(image.imageId);if(!imageTexture){imageTexture=generateTexture(image);_textureCache_js__WEBPACK_IMPORTED_MODULE_2__["default"].putImageTexture(image,imageTexture)}return imageTexture.texture}function initBuffers(){positionBuffer=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,positionBuffer);gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([1,1,0,1,1,0,0,0]),gl.STATIC_DRAW);texCoordBuffer=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,texCoordBuffer);gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([1,1,0,1,1,0,0,0]),gl.STATIC_DRAW)}function renderQuad(shader,parameters,texture,width,height){gl.clearColor(1,0,0,1);gl.viewport(0,0,width,height);gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT);gl.useProgram(shader.program);gl.bindBuffer(gl.ARRAY_BUFFER,texCoordBuffer);gl.vertexAttribPointer(shader.attributes.texCoordLocation,2,gl.FLOAT,!1,0,0);gl.bindBuffer(gl.ARRAY_BUFFER,positionBuffer);gl.vertexAttribPointer(shader.attributes.positionLocation,2,gl.FLOAT,!1,0,0);for(var key in parameters){var uniformLocation=gl.getUniformLocation(shader.program,key);if(!uniformLocation){continue}var uniform=parameters[key],type=uniform.type,value=uniform.value;if("i"===type){gl.uniform1i(uniformLocation,value)}else if("f"===type){gl.uniform1f(uniformLocation,value)}else if("2f"===type){gl.uniform2f(uniformLocation,value[0],value[1])}}updateRectangle(gl,width,height);gl.activeTexture(gl.TEXTURE0);gl.bindTexture(gl.TEXTURE_2D,texture);gl.drawArrays(gl.TRIANGLE_STRIP,0,4)}function render(enabledElement){var image=enabledElement.image;renderCanvas.width=image.width;renderCanvas.height=image.height;var viewport=enabledElement.viewport,shader=getShaderProgram(image),texture=getImageTexture(image),parameters={u_resolution:{type:"2f",value:[image.width,image.height]},wc:{type:"f",value:viewport.voi.windowCenter},ww:{type:"f",value:viewport.voi.windowWidth},slope:{type:"f",value:image.slope},intercept:{type:"f",value:image.intercept},minPixelValue:{type:"f",value:image.minPixelValue},invert:{type:"i",value:viewport.invert?1:0}};renderQuad(shader,parameters,texture,image.width,image.height);return renderCanvas}function isWebGLAvailable(){var options={failIfMajorPerformanceCaveat:!0};try{var canvas=document.createElement("canvas");return!!window.WebGLRenderingContext&&(canvas.getContext("webgl",options)||canvas.getContext("experimental-webgl",options))}catch(e){return!1}}},"./webgl/shaders/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"shaders",function(){return shaders});__webpack_require__.d(__webpack_exports__,"dataUtilities",function(){return dataUtilities});var _int16_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./webgl/shaders/int16.js"),_int8_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./webgl/shaders/int8.js"),_rgb_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./webgl/shaders/rgb.js"),_uint16_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./webgl/shaders/uint16.js"),_uint8_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./webgl/shaders/uint8.js"),shaders={int16:_int16_js__WEBPACK_IMPORTED_MODULE_0__.int16Shader,int8:_int8_js__WEBPACK_IMPORTED_MODULE_1__.int8Shader,rgb:_rgb_js__WEBPACK_IMPORTED_MODULE_2__.rgbShader,uint16:_uint16_js__WEBPACK_IMPORTED_MODULE_3__.uint16Shader,uint8:_uint8_js__WEBPACK_IMPORTED_MODULE_4__.uint8Shader},dataUtilities={int16:_int16_js__WEBPACK_IMPORTED_MODULE_0__.int16DataUtilities,int8:_int8_js__WEBPACK_IMPORTED_MODULE_1__.int8DataUtilities,rgb:_rgb_js__WEBPACK_IMPORTED_MODULE_2__.rgbDataUtilities,uint16:_uint16_js__WEBPACK_IMPORTED_MODULE_3__.uint16DataUtilities,uint8:_uint8_js__WEBPACK_IMPORTED_MODULE_4__.uint8DataUtilities}},"./webgl/shaders/int16.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"int16DataUtilities",function(){return int16DataUtilities});__webpack_require__.d(__webpack_exports__,"int16Shader",function(){return int16Shader});var int16Shader={};function storedPixelDataToImageData(image){for(var pixelData=image.getPixelData(),numberOfChannels=3,data=new Uint8Array(image.width*image.height*numberOfChannels),offset=0,i=0,val;i<pixelData.length;i++){val=Math.abs(pixelData[i]);data[offset++]=255&val;data[offset++]=val>>8;data[offset++]=0>pixelData[i]?0:1}return data}var int16DataUtilities={storedPixelDataToImageData:storedPixelDataToImageData};int16Shader.frag="precision mediump float;"+"uniform sampler2D u_image;"+"uniform float ww;"+"uniform float wc;"+"uniform float slope;"+"uniform float intercept;"+"uniform int invert;"+"varying vec2 v_texCoord;"+"void main() {"+"vec4 color = texture2D(u_image, v_texCoord);"+"float intensity = color.r*256.0 + color.g*65536.0;"+"if (color.b == 0.0)"+"intensity = -intensity;"+"intensity = intensity * slope + intercept;"+"float center0 = wc - 0.5;"+"float width0 = max(ww, 1.0);"+"intensity = (intensity - center0) / width0 + 0.5;"+"intensity = clamp(intensity, 0.0, 1.0);"+"gl_FragColor = vec4(intensity, intensity, intensity, 1.0);"+"if (invert == 1)"+"gl_FragColor.rgb = 1.0 - gl_FragColor.rgb;"+"}"},"./webgl/shaders/int8.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"int8DataUtilities",function(){return int8DataUtilities});__webpack_require__.d(__webpack_exports__,"int8Shader",function(){return int8Shader});var int8Shader={};function storedPixelDataToImageData(image){for(var pixelData=image.getPixelData(),numberOfChannels=2,data=new Uint8Array(image.width*image.height*numberOfChannels),offset=0,i=0;i<pixelData.length;i++){data[offset++]=pixelData[i];data[offset++]=0>pixelData[i]?0:1}return data}var int8DataUtilities={storedPixelDataToImageData:storedPixelDataToImageData};int8Shader.frag="precision mediump float;"+"uniform sampler2D u_image;"+"uniform float ww;"+"uniform float wc;"+"uniform float slope;"+"uniform float intercept;"+"uniform int invert;"+"varying vec2 v_texCoord;"+"void main() {"+"vec4 color = texture2D(u_image, v_texCoord);"+"float intensity = color.r*256.;"+"if (color.a == 0.0)"+"intensity = -intensity;"+"intensity = intensity * slope + intercept;"+"float center0 = wc - 0.5;"+"float width0 = max(ww, 1.0);"+"intensity = (intensity - center0) / width0 + 0.5;"+"intensity = clamp(intensity, 0.0, 1.0);"+"gl_FragColor = vec4(intensity, intensity, intensity, 1.0);"+"if (invert == 1)"+"gl_FragColor.rgb = 1.0 - gl_FragColor.rgb;"+"}"},"./webgl/shaders/rgb.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"rgbDataUtilities",function(){return rgbDataUtilities});__webpack_require__.d(__webpack_exports__,"rgbShader",function(){return rgbShader});var rgbShader={};function storedPixelDataToImageData(image){var minPixelValue=image.minPixelValue,canvasImageDataIndex=0,storedPixelDataIndex=0,numStoredPixels=4*(image.width*image.height),numOutputPixels=3*(image.width*image.height),storedPixelData=image.getPixelData(),data=new Uint8Array(numOutputPixels);if(0>minPixelValue){while(storedPixelDataIndex<numStoredPixels){data[canvasImageDataIndex++]=storedPixelData[storedPixelDataIndex++]+-minPixelValue;data[canvasImageDataIndex++]=storedPixelData[storedPixelDataIndex++]+-minPixelValue;data[canvasImageDataIndex++]=storedPixelData[storedPixelDataIndex++]+-minPixelValue;storedPixelDataIndex+=1}}else{while(storedPixelDataIndex<numStoredPixels){data[canvasImageDataIndex++]=storedPixelData[storedPixelDataIndex++];data[canvasImageDataIndex++]=storedPixelData[storedPixelDataIndex++];data[canvasImageDataIndex++]=storedPixelData[storedPixelDataIndex++];storedPixelDataIndex+=1}}return data}var rgbDataUtilities={storedPixelDataToImageData:storedPixelDataToImageData};rgbShader.frag="precision mediump float;"+"uniform sampler2D u_image;"+"uniform float ww;"+"uniform float wc;"+"uniform float slope;"+"uniform float intercept;"+"uniform float minPixelValue;"+"uniform int invert;"+"varying vec2 v_texCoord;"+"void main() {"+"vec3 color = texture2D(u_image, v_texCoord).xyz;"+"color = color * 256.0 * slope + intercept;"+"float center0 = wc - 0.5 - minPixelValue;"+"float width0 = max(ww, 1.0);"+"color = (color - center0) / width0 + 0.5;"+"gl_FragColor = vec4(color, 1);"+"if (invert == 1)"+"gl_FragColor.rgb = 1. - gl_FragColor.rgb;"+"}"},"./webgl/shaders/uint16.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"uint16DataUtilities",function(){return uint16DataUtilities});__webpack_require__.d(__webpack_exports__,"uint16Shader",function(){return uint16Shader});var uint16Shader={};function storedPixelDataToImageData(image){for(var pixelData=image.getPixelData(),numberOfChannels=2,data=new Uint8Array(image.width*image.height*numberOfChannels),offset=0,i=0,val;i<pixelData.length;i++){val=pixelData[i];data[offset++]=255&val;data[offset++]=val>>8}return data}var uint16DataUtilities={storedPixelDataToImageData:storedPixelDataToImageData};uint16Shader.frag="precision mediump float;"+"uniform sampler2D u_image;"+"uniform float ww;"+"uniform float wc;"+"uniform float slope;"+"uniform float intercept;"+"uniform int invert;"+"varying vec2 v_texCoord;"+"void main() {"+"vec4 color = texture2D(u_image, v_texCoord);"+"float intensity = color.r*256.0 + color.a*65536.0;"+"intensity = intensity * slope + intercept;"+"float center0 = wc - 0.5;"+"float width0 = max(ww, 1.0);"+"intensity = (intensity - center0) / width0 + 0.5;"+"intensity = clamp(intensity, 0.0, 1.0);"+"gl_FragColor = vec4(intensity, intensity, intensity, 1.0);"+"if (invert == 1)"+"gl_FragColor.rgb = 1.0 - gl_FragColor.rgb;"+"}"},"./webgl/shaders/uint8.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"uint8DataUtilities",function(){return uint8DataUtilities});__webpack_require__.d(__webpack_exports__,"uint8Shader",function(){return uint8Shader});var uint8Shader={};function storedPixelDataToImageData(image){return image.getPixelData()}var uint8DataUtilities={storedPixelDataToImageData:storedPixelDataToImageData};uint8Shader.frag="precision mediump float;"+"uniform sampler2D u_image;"+"uniform float ww;"+"uniform float wc;"+"uniform float slope;"+"uniform float intercept;"+"uniform int invert;"+"varying vec2 v_texCoord;"+"void main() {"+"vec4 color = texture2D(u_image, v_texCoord);"+"float intensity = color.r*256.0;"+"intensity = intensity * slope + intercept;"+"float center0 = wc - 0.5;"+"float width0 = max(ww, 1.0);"+"intensity = (intensity - center0) / width0 + 0.5;"+"intensity = clamp(intensity, 0.0, 1.0);"+"gl_FragColor = vec4(intensity, intensity, intensity, 1.0);"+"if (invert == 1)"+"gl_FragColor.rgb = 1.0 - gl_FragColor.rgb;"+"}"},"./webgl/textureCache.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _events_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./events.js"),_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./triggerEvent.js"),imageCache={},cachedImages=[],maximumSizeInBytes=256*(1024*1024),cacheSizeInBytes=0;function getCacheInfo(){return{maximumSizeInBytes:maximumSizeInBytes,cacheSizeInBytes:cacheSizeInBytes,numberOfImagesCached:cachedImages.length}}function purgeCacheIfNecessary(){if(cacheSizeInBytes<=maximumSizeInBytes){return}function compare(a,b){if(a.timeStamp>b.timeStamp){return-1}if(a.timeStamp<b.timeStamp){return 1}return 0}cachedImages.sort(compare);while(cacheSizeInBytes>maximumSizeInBytes){var lastCachedImage=cachedImages[cachedImages.length-1];cacheSizeInBytes-=lastCachedImage.sizeInBytes;delete imageCache[lastCachedImage.imageId];cachedImages.pop();Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__["default"])(_events_js__WEBPACK_IMPORTED_MODULE_0__.events,_events_js__WEBPACK_IMPORTED_MODULE_0__["default"].WEBGL_TEXTURE_REMOVED,{imageId:lastCachedImage.imageId})}var cacheInfo=getCacheInfo();Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__["default"])(_events_js__WEBPACK_IMPORTED_MODULE_0__.events,_events_js__WEBPACK_IMPORTED_MODULE_0__["default"].WEBGL_TEXTURE_CACHE_FULL,cacheInfo)}function setMaximumSizeBytes(numBytes){if(void 0===numBytes){throw new Error("setMaximumSizeBytes: parameter numBytes must not be undefined")}if(void 0===numBytes.toFixed){throw new Error("setMaximumSizeBytes: parameter numBytes must be a number")}maximumSizeInBytes=numBytes;purgeCacheIfNecessary()}function putImageTexture(image,imageTexture){var imageId=image.imageId;if(void 0===image){throw new Error("putImageTexture: image must not be undefined")}if(void 0===imageId){throw new Error("putImageTexture: imageId must not be undefined")}if(void 0===imageTexture){throw new Error("putImageTexture: imageTexture must not be undefined")}if(!0===Object.prototype.hasOwnProperty.call(imageCache,imageId)){throw new Error("putImageTexture: imageId already in cache")}var cachedImage={imageId:imageId,imageTexture:imageTexture,timeStamp:new Date,sizeInBytes:imageTexture.sizeInBytes};imageCache[imageId]=cachedImage;cachedImages.push(cachedImage);if(void 0===imageTexture.sizeInBytes){throw new Error("putImageTexture: imageTexture.sizeInBytes must not be undefined")}if(void 0===imageTexture.sizeInBytes.toFixed){throw new Error("putImageTexture: imageTexture.sizeInBytes is not a number")}cacheSizeInBytes+=cachedImage.sizeInBytes;purgeCacheIfNecessary()}function getImageTexture(imageId){if(void 0===imageId){throw new Error("getImageTexture: imageId must not be undefined")}var cachedImage=imageCache[imageId];if(void 0===cachedImage){return}cachedImage.timeStamp=new Date;return cachedImage.imageTexture}function removeImageTexture(imageId){if(void 0===imageId){throw new Error("removeImageTexture: imageId must not be undefined")}var cachedImage=imageCache[imageId];if(void 0===cachedImage){throw new Error("removeImageTexture: imageId must not be undefined")}cachedImages.splice(cachedImages.indexOf(cachedImage),1);cacheSizeInBytes-=cachedImage.sizeInBytes;delete imageCache[imageId];return cachedImage.imageTexture}function purgeCache(){while(0<cachedImages.length){var removedCachedImage=cachedImages.pop();delete imageCache[removedCachedImage.imageId]}cacheSizeInBytes=0}__webpack_exports__["default"]={purgeCache:purgeCache,getImageTexture:getImageTexture,putImageTexture:putImageTexture,removeImageTexture:removeImageTexture,setMaximumSizeBytes:setMaximumSizeBytes}},"./webgl/vertexShader.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"vertexShader",function(){return vertexShader});var vertexShader="attribute vec2 a_position;"+"attribute vec2 a_texCoord;"+"uniform vec2 u_resolution;"+"varying vec2 v_texCoord;"+"void main() {"+"vec2 zeroToOne = a_position / u_resolution;"+"vec2 zeroToTwo = zeroToOne * 2.0;"+"vec2 clipSpace = zeroToTwo - 1.0;"+"gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);"+"v_texCoord = a_texCoord;"+"}"}})});